<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>客户数据中心-首访信息录入</title>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../css/bootstrap.min.css"/>
  <link rel="stylesheet" href="../css/index.css"/>
  <link rel="stylesheet" href="../css/main.css">
  <script src="../../static/js/jquery.min.js" type="text/javascript"></script>
  <script src="../js/CONSTANT.js" type="text/javascript"></script>
  <script src="../js/common.utils.js" type="text/javascript"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/vue.js"></script>
</head>
<body>
<div class="item_sflr row" id="auditArea" style="display:none;">
<!-- 代码 开始 -->
<div class="subNavBox">
  <div class="subNav currentDd currentDt">审核意见</div>
  <ul class="navContent " style="display:block">
    <li id="auditText">添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻添加新闻</li>
  </ul>
</div>
<!-- 代码 结束 -->
</div>
<!-- 第1页 -->
<div class="container" id="step1" style="display:none">
  <div class="item_sflr row">
    <div class="col-title col-title-4">置业顾问</div>
    <div class="col-input-4">
      <input type="text" placeholder="" name="user" value="" readonly/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-6">本次到访时间</div>
    <div class="col-input-6">
      <input type="date" placeholder="" name="curTime"/>
    </div>
  </div>
  <div class="item_sflr row" id="projArea" style="display:none;">
    <div class="col-title col-title-4">项目选择</div>
    <a href="" data-toggle="modal" data-target="#projModal">
    <div class="col-input-4">
      <span class="input_style form-group" id="proj">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="projModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">项目选择</h4>
        </div>
        <div class="modal-body" id="projData">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanProj()" id="cleanProjBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="line"></div>
  <div class="item_sflr row">
    <div class="col-title col-title-2">姓名</div>
    <div class="col-input">
      <input type="text" placeholder="" name="custName"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-2">电话</div>
    <div class="col-input">
      <input type="text" placeholder="" name="custPhone"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-2">性别</div>
    <a href="" data-toggle="modal" data-target="#sexModal">
    <div class="col-input-1">
      <span class="input_style form-group" id="sex">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="sexModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">性别</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="sex" value="002001-男" _text="男" @click="selSex()"/> 男 </label>
          <label><input type="radio" name="sex" value="002001-女" _text="女" @click="selSex()"/> 女 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanSex()" id="cleanSexBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-7">第一次获知时间</div>
    <div class="col-input-7">
      <input type="date" placeholder="" name="firstTime"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-3">年龄段</div>
    <a href="" data-toggle="modal" data-target="#ageGroupModal">
    <div class="col-input-3-1">
      <span class="input_style form-group" id="ageGroup">&nbsp;</span>
    </div>
    </a>
 </div>
  <div class="modal fade" id="ageGroupModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">年龄段</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="ageGroup" value="003001-25岁以下-0~25" _text="25岁以下" @click="selAgeGroup()"/> 25岁以下 </label>
          <label><input type="radio" name="ageGroup" value="003002-26~35岁-26~35" _text="26~35岁" @click="selAgeGroup()"/> 26~35岁 </label>
          <label><input type="radio" name="ageGroup" value="003003-36~45岁-36~45" _text="36~45岁" @click="selAgeGroup()"/> 36~45岁 </label>
          <label><input type="radio" name="ageGroup" value="003004-46~55岁-46~55" _text="46~55岁" @click="selAgeGroup()"/> 46~55岁 </label>
          <label><input type="radio" name="ageGroup" value="003005-56岁以上-56~" _text="56岁以上" @click="selAgeGroup()"/> 56岁以上 </label>
          <label class="wflj"><input type="radio" name="ageGroup" value="003000-无法了解" _text="无法了解" @click="selAgeGroup()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanAgeGroup()" id="cleanAgeGroupBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">居住区域</div>
    <div class="col-input-4">
      <input type="text" placeholder="" name="localResidence"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">工作区域</div>
    <div class="col-input-4">
      <input type="text" placeholder="" name="localWorkArea"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">外埠居住</div>
    <div class="col-input-4">
      <input type="text" placeholder="" name="outResidence"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">外埠工作</div>
    <div class="col-input-4">
      <input type="text" placeholder="" name="outWorkArea"/>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">家庭状况</div>
    <a href="" data-toggle="modal" data-target="#familyStatusModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="familyStatus">&nbsp;</span>
    </div>
  </a>
  </div>
  <div class="modal fade" id="familyStatusModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">家庭状况</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="familyStatus" value="005001-单身" _text="单身" @click="selFamilyStatus()"/> 单身 </label>
          <label><input type="radio" name="familyStatus" value="005002-夫妻" _text="夫妻" @click="selFamilyStatus()"/> 夫妻 </label>
          <label><input type="radio" name="familyStatus" value="005003-一孩家庭" _text="一孩家庭" @click="selFamilyStatus()"/> 一孩家庭 </label>
          <label><input type="radio" name="familyStatus" value="005004-俩孩家庭" _text="俩孩家庭" @click="selFamilyStatus()"/> 俩孩家庭 </label>
          <label><input type="radio" name="familyStatus" value="005005-三孩及以上家庭" _text="三孩及以上家庭" @click="selFamilyStatus()"/> 三孩及以上家庭 </label>
          <label><input type="radio" name="familyStatus" value="005006-三代同堂" _text="三代同堂" @click="selFamilyStatus()"/> 三代同堂 </label>
          <label class="wflj"><input type="radio" name="familyStatus" value="005000-无法了解" _text="无法了解" @click="selFamilyStatus()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanFamilyStatus()" id="cleanFamilyStatusBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">出行方式</div>
    <a href="" data-toggle="modal" data-target="#trafficTypeModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="trafficType">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="trafficTypeModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">出行方式</h4>
        </div>
        <div class="modal-body">
          <label><input type="checkbox" name="trafficType" value="006001-自驾车" _text="自驾车" @click="clickTrafficCheck(1)"/> 自驾车 </label>
          <label><input type="checkbox" name="trafficType" value="006002-公交" _text="公交" @click="clickTrafficCheck(1)"/> 公交 </label>
          <label><input type="checkbox" name="trafficType" value="006003-地铁" _text="地铁" @click="clickTrafficCheck(1)"/> 地铁 </label>
          <label><input type="checkbox" name="trafficType" value="006004-步行" _text="步行" @click="clickTrafficCheck(1)"/> 步行 </label>
          <label><input type="checkbox" name="trafficType" value="006005-打车" _text="打车" @click="clickTrafficCheck(1)"/> 打车 </label>
          <label class="wflj"><input type="checkbox" name="trafficType" value="006000-无法了解" _text="无法了解" @click="clickTrafficCheck(2)"/> 无法了解 </label><br/>
          <label><input type="checkbox" name="trafficType" value="006999-其他" _text="其他" @click="clickTrafficCheck(3)"/> 其他 </label>
          <input type="text" placeholder="" name="trafficTypeDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanTrafficType(1)">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanTrafficType(2)" id="cleanTrafficTypeBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selTrafficType()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item-zhc row-link" style="margin-top:1.5rem;" onClick="step1Next()"><a href="#">下一步</a></div>
</div>
<!-- 第2页 -->
<div class="container" id="step2" style="display:none">
  <div class="item_sflr row">
    <div class="col-title col-title-4">购房资格</div>
    <a href="" data-toggle="modal" data-target="#buyQualifyModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="buyQualify">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="buyQualifyModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">购房资格</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="buyQualify" value="004001-有" _text="有" @click="selBuyQualify()"/> 有 </label>
          <label><input type="radio" name="buyQualify" value="004002-无(换产权名解决)" _text="无(换产权名解决)" @click="selBuyQualify()"/> 无(换产权名解决) </label>
          <label><input type="radio" name="buyQualify" value="004003-无(房产过户解决)" _text="无(房产过户解决)" @click="selBuyQualify()"/> 无(房产过户解决) </label>
          <label><input type="radio" name="buyQualify" value="004004-无(离婚解决)" _text="无(离婚解决)" @click="selBuyQualify()"/> 无(离婚解决) </label>
          <label><input type="radio" name="buyQualify" value="004005-无(公司产权解决)" _text="无(公司产权解决)" @click="selBuyQualify()"/> 无(公司产权解决) </label>
          <label><input type="radio" name="buyQualify" value="004006-无(其它解决)" _text="无(其它解决)" @click="selBuyQualify()"/> 无(其它解决) </label>
          <label class="wflj"><input type="radio" name="buyQualify" value="004000-无法了解" _text="无法了解" @click="selBuyQualify()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanBuyQualify()" id="cleanBuyQualifyBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">从事行业</div>
    <a href="" data-toggle="modal" data-target="#workIndustryModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="workIndustry">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="workIndustryModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">从事行业</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="workIndustry" value="007001-建筑房地产/装修" _text="建筑房地产/装修" @click="selWorkIndustry()"/> 建筑房地产/装修 </label>
          <label><input type="radio" name="workIndustry" value="007002-旅游/文化/媒体" _text="旅游/文化/媒体" @click="selWorkIndustry()"/> 旅游/文化/媒体 </label>
          <label><input type="radio" name="workIndustry" value="007003-能源" _text="能源" @click="selWorkIndustry()"/> 能源 </label>
          <label><input type="radio" name="workIndustry" value="007004-IT" _text="IT" @click="selWorkIndustry()"/> IT </label>
          <label><input type="radio" name="workIndustry" value="007005-金融投资" _text="金融投资" @click="selWorkIndustry()"/> 金融投资 </label>
          <label><input type="radio" name="workIndustry" value="007006-外贸" _text="外贸" @click="selWorkIndustry()"/> 外贸 </label>
          <label><input type="radio" name="workIndustry" value="007007-交通/物流/零售" _text="交通/物流/零售" @click="selWorkIndustry()"/> 交通/物流/零售 </label>
          <label><input type="radio" name="workIndustry" value="007008-餐饮" _text="餐饮" @click="selWorkIndustry()"/> 餐饮 </label>
          <label><input type="radio" name="workIndustry" value="007009-医疗" _text="医疗" @click="selWorkIndustry()"/> 医疗 </label>
          <label><input type="radio" name="workIndustry" value="007010-教育" _text="教育" @click="selWorkIndustry()"/> 教育 </label>
          <label><input type="radio" name="workIndustry" value="007011-通讯" _text="通讯" @click="selWorkIndustry()"/> 通讯 </label>
          <label><input type="radio" name="workIndustry" value="007012-律师/法务" _text="律师/法务" @click="selWorkIndustry()"/> 律师/法务 </label>
          <label><input type="radio" name="workIndustry" value="007013-退休" _text="退休" @click="selWorkIndustry()"/> 自驾车 </label>
          <label class="wflj"><input type="radio" name="workIndustry" value="007000-无法了解" _text="无法了解" @click="selWorkIndustry()"/> 无法了解 </label><br/>
          <label><input type="radio" name="workIndustry" value="007999-其他" _text="其他" @click="clickWorkIndustry()"/> 其他 </label>
          <input type="text" placeholder="" name="workIndustryDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanWorkIndustry()" id="cleanWorkIndustryBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selWorkIndustry()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">企业性质</div>
    <a href="" data-toggle="modal" data-target="#enterpriseTypeModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="enterpriseType">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="enterpriseTypeModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">企业性质</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="enterpriseType" value="008001-国家行政机关及国企" _text="国家行政机关及国企" @click="selEnterpriseType()"/> 国家行政机关及国企 </label>
          <label><input type="radio" name="enterpriseType" value="008002-民营企业" _text="民营企业" @click="selEnterpriseType()"/> 民营企业 </label>
          <label><input type="radio" name="enterpriseType" value="008003-外资企业" _text="外资企业" @click="selEnterpriseType()"/> 外资企业 </label>
          <label><input type="radio" name="enterpriseType" value="008004-合资企业" _text="合资企业" @click="selEnterpriseType()"/> 合资企业 </label>
          <label><input type="radio" name="enterpriseType" value="008005-私营" _text="私营" @click="selEnterpriseType()"/> 私营 </label>
          <label class="wflj"><input type="radio" name="enterpriseType" value="008000-无法了解" _text="无法了解" @click="selEnterpriseType()" color="red"/> 无法了解 </label>
          <label><input type="radio" name="enterpriseType" value="008999-其他" _text="其他" @click="clickEnterpriseType()"/> 其他 </label>
          <input type="text" placeholder="" name="enterpriseTypeDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanEnterpriseType()" id="cleanEnterpriseTypeBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selEnterpriseType()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">认知渠道</div>
    <a href="" data-toggle="modal" data-target="#knowWayModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="knowWay">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="knowWayModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">认知渠道</h4>
        </div>
        <div class="modal-body">
          <label><input type="checkbox" name="knowWay" value="013001-户外广告牌" _text="户外广告牌" @click="clickKnowWayGGP()"/> 户外广告牌 </label>
          <input type="text" placeholder="" name="knowWayGGP" style="display;" readonly/><br/>
          <label><input type="checkbox" name="knowWay" value="013002-网络" _text="网络" @click="clickKnowWayCheck(1)"/> 网络 </label>
          <label><input type="checkbox" name="knowWay" value="013003-短信" _text="短信" @click="clickKnowWayCheck(1)"/> 短信 </label>
          <label><input type="checkbox" name="knowWay" value="013004-纸媒" _text="纸媒" @click="clickKnowWayCheck(1)"/> 纸媒 </label>
          <label><input type="checkbox" name="knowWay" value="013005-路过" _text="路过" @click="clickKnowWayCheck(1)"/> 路过 </label>
          <label><input type="checkbox" name="knowWay" value="013006-朋友介绍" _text="朋友介绍" @click="clickKnowWayCheck(1)"/> 朋友介绍 </label><br/>
          <label><input type="checkbox" name="knowWay" value="013007-渠道介绍" _text="渠道介绍" @click="clickKnowWayJS()"/> 渠道介绍 </label>
          <input type="text" placeholder="" name="knowWayJS" style="display;" readonly/>公司<br/>
          <label><input type="checkbox" name="knowWay" value="013008-巡展" _text="巡展" @click="clickKnowWayCheck(1)"/> 巡展 </label>
          <label><input type="checkbox" name="knowWay" value="013009-广播" _text="广播" @click="clickKnowWayCheck(1)"/> 广播 </label>
          <label><input type="checkbox" name="knowWay" value="013010-电CALL" _text="电CALL" @click="clickKnowWayCheck(1)"/> 电CALL </label><br/>
          <label><input type="checkbox" name="knowWay" value="013011-直投" _text="直投" @click="clickKnowWayCheck(1)"/> 直投 </label>
          <label><input type="checkbox" name="knowWay" value="013012-活动" _text="活动" @click="clickKnowWayCheck(1)"/> 活动 </label>
          <label><input type="checkbox" name="knowWay" value="013013-DM单" _text="DM单" @click="clickKnowWayCheck(1)"/> DM单 </label>
          <label><input type="checkbox" name="knowWay" value="013014-外联" _text="外联" @click="clickKnowWayCheck(1)"/> 外联 </label>
          <label><input type="checkbox" name="knowWay" value="013015-老带新" _text="老带新" @click="clickKnowWayCheck(3)"/> 老带新 </label>
          <label class="wflj"><input type="checkbox" name="knowWay" value="013000-无法了解" _text="无法了解" @click="clickKnowWayCheck(2)"/> 无法了解 </label><br/>
          <label><input type="checkbox" name="knowWay" value="013999-其他" _text="其他" @click="clickKnowWayCheck(3)"/> 其他 </label>
          <input type="text" placeholder="" name="knowWayDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanKnowWay(1)">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanKnowWay(2)" id="cleanKnowWayBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selKnowWay()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">预估身价</div>
    <a href="" data-toggle="modal" data-target="#estCustWorthModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="estCustWorth">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="estCustWorthModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">预估身价</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="estCustWorth" value="015001-1千万以下-0~1000" _text="1千万以下" @click="selEstCustWorth()"/> 1千万以下 </label>
          <label><input type="radio" name="estCustWorth" value="015002-1千~5千万-1000~5000" _text="1千~5千万" @click="selEstCustWorth()"/> 1千~5千万 </label>
          <label><input type="radio" name="estCustWorth" value="015003-5千万~1亿-5000~10000" _text="5千万~1亿" @click="selEstCustWorth()"/> 5千万~1亿 </label>
          <label><input type="radio" name="estCustWorth" value="015004-1~3亿-10000~30000" _text="1~3亿" @click="selEstCustWorth()"/> 1~3亿 </label>
          <label><input type="radio" name="estCustWorth" value="015005-3亿以上-30000~" _text="3亿以上" @click="selEstCustWorth()"/> 3亿以上 </label>
          <label class="wflj"><input type="radio" name="estCustWorth" value="015000-无法了解" _text="无法了解" @click="selEstCustWorth()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanEstCustWorth()" id="cleanEstCustWorthBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">重点投资</div>
    <a href="" data-toggle="modal" data-target="#investTypeModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="investType">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="investTypeModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">重点投资</h4>
        </div>
        <div class="modal-body">
          <label><input type="checkbox" name="investType" value="016001-股票" _text="股票" @click="clickInvestTypeCheck(1)"/> 股票 </label>
          <label><input type="checkbox" name="investType" value="016002-基金" _text="基金" @click="clickInvestTypeCheck(1)"/> 基金 </label>
          <label><input type="checkbox" name="investType" value="016003-黄金" _text="黄金" @click="clickInvestTypeCheck(1)"/> 黄金 </label>
          <label><input type="checkbox" name="investType" value="016004-股指期货" _text="股指期货" @click="clickInvestTypeCheck(1)"/> 股指期货 </label>
          <label><input type="checkbox" name="investType" value="016005-外汇" _text="外汇" @click="clickInvestTypeCheck(1)"/> 外汇 </label>
          <label><input type="checkbox" name="investType" value="016006-艺术品" _text="艺术品" @click="clickInvestTypeCheck(1)"/> 艺术品 </label>
          <label><input type="checkbox" name="investType" value="016007-保险" _text="保险" @click="clickInvestTypeCheck(1)"/> 保险 </label>
          <label><input type="checkbox" name="investType" value="016008-民间投资" _text="民间投资" @click="clickInvestTypeCheck(1)"/> 民间投资 </label>
          <label class="wflj"><input type="checkbox" name="investType" value="016000-无法了解" _text="无法了解" @click="clickInvestTypeCheck(2)"/> 无法了解 </label><br/>
          <label><input type="checkbox" name="investType" value="016999-其他" _text="其他" @click="clickInvestTypeCheck(3)"/> 其他 </label>
          <input type="text" placeholder="" name="investTypeDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanInvestType(1)">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanInvestType(2)" id="cleanInvestTypeBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selInvestType()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-5">资金筹备期</div>
    <a href="" data-toggle="modal" data-target="#captalPrepSectionModal">
    <div class="col-input-5-1">
      <span class="input_style form-group" id="captalPrepSection">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="captalPrepSectionModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">资金筹备期</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="captalPrepSection" value="017001-1个月内-0~1" _text="1个月内" @click="selCaptalPrepSection()"/> 1个月内 </label>
          <label><input type="radio" name="captalPrepSection" value="017002-1~3月-1~3" _text="1~3月" @click="selCaptalPrepSection()"/> 1~3月 </label>
          <label><input type="radio" name="captalPrepSection" value="017003-3~6月-3~6" _text="3~6月" @click="selCaptalPrepSection()"/> 3~6月 </label>
          <label><input type="radio" name="captalPrepSection" value="017004-6~12月-6~12" _text="6~12月" @click="selCaptalPrepSection()"/> 6~12月 </label>
          <label><input type="radio" name="captalPrepSection" value="017005-12月以上-12~" _text="12月以上" @click="selCaptalPrepSection()"/> 12月以上 </label>
          <label class="wflj"><input type="radio" name="captalPrepSection" value="017000-无法了解" _text="无法了解" @click="selCaptalPrepSection()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanCaptalPrepSection()" id="cleanCaptalPrepSectionBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="row row-link">
    <div class="col-50" style="margin-top:1.5rem;" onClick="step2Prev()"><a href="#">上一步</a></div>
    <div class="col-50" style="margin-top:1.5rem;" onClick="step2Next()"><a href="#">下一步</a></div>
  </div>
</div>
<!-- 第3页 -->
<div class="container" id="step3" style="display:none">
  <div class="item_sflr row">
    <div class="col-title col-title-6">关注产品类型</div>
    <a href="" data-toggle="modal" data-target="#realtyProductTypeModal">
    <div class="col-input-6-1">
      <span class="input_style form-group" id="realtyProductType">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="realtyProductTypeModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">关注产品类型</h4>
        </div>
        <div class="modal-body">
          <label>别墅&nbsp;(
          <input type="checkbox" name="realtyProductType" value="009001001-独栋" _text="别墅-独栋" @click="clickRealtyProductTypeCheck(1)"/> 独栋 </label>
          <label><input type="checkbox" name="realtyProductType" value="009001002-类独栋" _text="别墅-类独栋" @click="clickRealtyProductTypeCheck(1)"/> 类独栋 </label>
          <label><input type="checkbox" name="realtyProductType" value="009001003-双拼" _text="别墅-双拼" @click="clickRealtyProductTypeCheck(1)"/> 双拼 </label>
          <label><input type="checkbox" name="realtyProductType" value="009001004-联排" _text="别墅-联排" @click="clickRealtyProductTypeCheck(1)"/> 联排 </label>
          <label><input type="checkbox" name="realtyProductType" value="009001005-上叠" _text="别墅-上叠" @click="clickRealtyProductTypeCheck(1)"/> 上叠 </label>
          <label><input type="checkbox" name="realtyProductType" value="009001006-下叠" _text="别墅-下叠" @click="clickRealtyProductTypeCheck(1)"/> 下叠 )</label><br/>
          <label>平层&nbsp;(
          <input type="checkbox" name="realtyProductType" value="009002001-两居及以下" _text="平层-两居及以下" @click="clickRealtyProductTypeCheck(1)"/> 两居及以下 </label>
          <label><input type="checkbox" name="realtyProductType" value="009002002-三居" _text="平层-三居" @click="clickRealtyProductTypeCheck(1)"/> 三居 </label>
          <label><input type="checkbox" name="realtyProductType" value="009002003-四居" _text="平层-四居" @click="clickRealtyProductTypeCheck(1)"/> 四居 </label>
          <label><input type="checkbox" name="realtyProductType" value="009002004-五居及以上" _text="平层-五居及以上" @click="clickRealtyProductTypeCheck(1)"/> 五居及以上 )</label><br/>
          <label><input type="checkbox" name="realtyProductType" value="009003-商业" _text="商业"/ @click="clickRealtyProductTypeCheck(1)"> 商业 </label>
          <label><input type="checkbox" name="realtyProductType" value="00904-商业办公" _text="商业办公" @click="clickRealtyProductTypeCheck(1)"/> 商业办公 </label>
          <label class="wflj"><input type="checkbox" name="realtyProductType" value="009000-无法了解" _text="无法了解" @click="clickRealtyProductTypeCheck(2)"/> 无法了解 </label><br/>
          <label><input type="checkbox" name="realtyProductType" value="009999-其他" _text="其他" @click="clickRealtyProductTypeCheck(3)"/> 其他 </label>
          <input type="text" placeholder="" name="realtyProductTypeDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanRealtyProductType(1)">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanRealtyProductType(2)" id="cleanRealtyProductTypeBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selRealtyProductType()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-6">关注区间面积</div>
    <a href="" data-toggle="modal" data-target="#attentAcreageModal">
    <div class="col-input-6-1">
      <span class="input_style form-group" id="attentAcreage">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="attentAcreageModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">关注区间面积</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="attentAcreage" value="010001-200㎡以下-0~200" _text="200㎡以下" @click="selAttentAcreage()"/> 200㎡以下 </label>
          <label><input type="radio" name="attentAcreage" value="010002-200~300㎡-200~300" _text="200~300㎡" @click="selAttentAcreage()"/> 200~300㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010003-300~400㎡-300~400" _text="300~400㎡" @click="selAttentAcreage()"/> 300~400㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010004-400~500㎡-400~500" _text="400~500㎡" @click="selAttentAcreage()"/> 400~500㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010005-500~600㎡-500~600" _text="500~600㎡" @click="selAttentAcreage()"/> 500~600㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010006-600~700㎡-600~700" _text="600~700㎡" @click="selAttentAcreage()"/> 600~700㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010007-700~800㎡-700~800" _text="700~800㎡" @click="selAttentAcreage()"/> 700~800㎡ </label>
          <label><input type="radio" name="attentAcreage" value="010008-800㎡以上-800~" _text="800㎡以上" @click="selAttentAcreage()"/> 800㎡以上 </label><br/>
          <label class="wflj"><input type="radio" name="attentAcreage" value="010000-无法了解" _text="无法了解" @click="selAttentAcreage()"/> 无法了解 </label><br/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanAttentAcreage()" id="cleanAttentAcreageBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-5">接受总房款</div>
    <a href="" data-toggle="modal" data-target="#priceSectionModal">
    <div class="col-input-5-1">
      <span class="input_style form-group" id="priceSection">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="priceSectionModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">接受总房款</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="priceSection" value="011001-500万以下-0~500" _text="500万以下" @click="selPriceSection()"/> 500万以下 </label>
          <label><input type="radio" name="priceSection" value="011002-500~1000万-500~1000" _text="500~1000万" @click="selPriceSection()"/> 500-1000万 </label>
          <label><input type="radio" name="priceSection" value="011003-1000~1500万-1000~1500" _text="1000~1500万" @click="selPriceSection()"/> 1000~1500万 </label>
          <label><input type="radio" name="priceSection" value="011004-1500~2000万-1500~2000" _text="1500~2000万" @click="selPriceSection()"/> 1500~2000万 </label>
          <label><input type="radio" name="priceSection" value="011005-2000~3000万-2000~3000" _text="2000~3000万" @click="selPriceSection()"/> 2000~3000万 </label>
          <label><input type="radio" name="priceSection" value="011006-3000~4000万-3000~4000" _text="3000~4000万" @click="selPriceSection()"/> 3000~4000万 </label>
          <label><input type="radio" name="priceSection" value="011007-4000~5000万-4000~5000" _text="4000~5000万" @click="selPriceSection()"/> 4000~5000万 </label>
          <label><input type="radio" name="priceSection" value="011008-5000~6000万-5000~6000" _text="5000~6000万" @click="selPriceSection()"/> 5000~6000万 </label>
          <label><input type="radio" name="priceSection" value="011009-6000~8000万-6000~8000" _text="6000~8000万" @click="selPriceSection()"/> 6000~8000万 </label>
          <label><input type="radio" name="priceSection" value="011010-8000万以上-8000~" _text="8000万以上" @click="selPriceSection()"/> 8000万以上 </label>
          <label class="wflj"><input type="radio" name="priceSection" value="011000-无法了解" _text="无法了解" @click="selPriceSection()"/> 无法了解 </label><br/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanPriceSection()" id="cleanPriceSectionBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">购房目的</div>
    <a href="" data-toggle="modal" data-target="#buyPurposeModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="buyPurpose">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="buyPurposeModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">购房目的</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="buyPurpose" value="012001-自住第一居所" _text="自住第一居所" @click="selBuyPurpose()"/> 自住第一居所 </label>
          <label><input type="radio" name="buyPurpose" value="012002-自住第二居所" _text="自住第二居所" @click="selBuyPurpose()"/> 自住第二居所 </label>
          <label><input type="radio" name="buyPurpose" value="012003-为子女购房" _text="为子女购房" @click="selBuyPurpose()"/> 为子女购房 </label>
          <label><input type="radio" name="buyPurpose" value="012004-为父母购房" _text="为父母购房" @click="selBuyPurpose()"/> 为父母购房 </label>
          <label><input type="radio" name="buyPurpose" value="012005-自住兼投资" _text="自住兼投资" @click="selBuyPurpose()"/> 自住兼投资 </label>
          <label><input type="radio" name="buyPurpose" value="012006-仅投资" _text="仅投资" @click="selBuyPurpose()"/> 仅投资 </label>
          <label class="wflj"><input type="radio" name="buyPurpose" value="012000-无法了解" _text="无法了解" @click="selBuyPurpose()"/> 无法了解 </label><br/>
          <label><input type="radio" name="buyPurpose" value="012999-其他" _text="其他" @click="clickBuyPurpose()"/> 其他 </label>
          <input type="text" placeholder="" name="buyPurposeDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanBuyPurpose()" id="cleanBuyPurposeBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selBuyPurpose()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-6">对本案关注点</div>
    <a href="" data-toggle="modal" data-target="#attentionPointModal">
    <div class="col-input-6-1">
      <span class="input_style form-group" id="attentionPoint">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="attentionPointModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">对本案关注点</h4>
        </div>
        <div class="modal-body">
          <label><input type="checkbox" name="attentionPoint" value="014001-位置" _text="位置" @click="clickAttentionPointCheck(1)"/> 位置 </label>
          <label><input type="checkbox" name="attentionPoint" value="014002-产品类型" _text="产品类型" @click="clickAttentionPointCheck(1)"/> 产品类型 </label>
          <label><input type="checkbox" name="attentionPoint" value="014003-交通" _text="交通" @click="clickAttentionPointCheck(1)"/> 交通 </label>
          <label><input type="checkbox" name="attentionPoint" value="014004-区域环境" _text="区域环境" @click="clickAttentionPointCheck(1)"/> 区域环境 </label>
          <label><input type="checkbox" name="attentionPoint" value="014005-价格" _text="价格" @click="clickAttentionPointCheck(1)"/> 价格 </label>
          <label><input type="checkbox" name="attentionPoint" value="014006-户型" _text="户型" @click="clickAttentionPointCheck(1)"/> 户型 </label>
          <label><input type="checkbox" name="attentionPoint" value="014007-花园面积" _text="花园面积" @click="clickAttentionPointCheck(1)"/> 花园面积 </label>
          <label><input type="checkbox" name="attentionPoint" value="014008-园林环境" _text="园林环境" @click="clickAttentionPointCheck(1)"/> 园林环境 </label>
          <label><input type="checkbox" name="attentionPoint" value="014009-科技设备" _text="科技设备" @click="clickAttentionPointCheck(1)"/> 科技设备 </label>
          <label><input type="checkbox" name="attentionPoint" value="014010-交房时间" _text="交房时间" @click="clickAttentionPointCheck(1)"/> 交房时间 </label>
          <label><input type="checkbox" name="attentionPoint" value="014011-社区配套" _text="社区配套" @click="clickAttentionPointCheck(1)"/> 社区配套 </label>
          <label><input type="checkbox" name="attentionPoint" value="014012-物业服务" _text="物业服务" @click="clickAttentionPointCheck(1)"/> 物业服务 </label>
          <label><input type="checkbox" name="attentionPoint" value="014013-教育环境" _text="教育环境" @click="clickAttentionPointCheck(1)"/> 教育环境 </label>
          <label><input type="checkbox" name="attentionPoint" value="014014-开发品牌" _text="开发品牌" @click="clickAttentionPointCheck(1)"/> 开发品牌 </label>
          <label><input type="checkbox" name="attentionPoint" value="014015-增值潜力" _text="增值潜力" @click="clickAttentionPointCheck(1)"/> 增值潜力 </label>
          <label><input type="checkbox" name="attentionPoint" value="014016-交房时间" _text="交房时间" @click="clickAttentionPointCheck(1)"/> 交房时间 </label>
          <label class="wflj"><input type="checkbox" name="attentionPoint" value="012000-无法了解" _text="无法了解" @click="clickAttentionPointCheck(2)"/> 无法了解 </label>
          <label><input type="checkbox" name="attentionPoint" value="012999-其他" _text="其他" @click="clickAttentionPointCheck(3)"/> 其他 </label>
          <input type="text" placeholder="" name="attentionPointDesc" style="display:none;"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanAttentionPoint(1)">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanAttentionPoint(2)" id="cleanAttentionPointBtn" style="display:none;">清除并关闭</button>
          <button type="button" class="btn btn-primary" @click="selAttentionPoint()">确定</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-6">参观接待时间</div>
    <a href="" data-toggle="modal" data-target="#recepTimeSectionModal">
    <div class="col-input-6-1">
      <span class="input_style form-group" id="recepTimeSection">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="recepTimeSectionModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">参观接待时间</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="recepTimeSection" value="018001-15分钟以内-0~15" _text="15分钟以内" @click="selRecepTimeSection()"/> 15分钟以内 </label>
          <label><input type="radio" name="recepTimeSection" value="018002-15~30分钟-15~30" _text="15~30分钟" @click="selRecepTimeSection()"/> 15~30分钟 </label>
          <label><input type="radio" name="recepTimeSection" value="018003-30^60分钟-30~60" _text="30~60分钟" @click="selRecepTimeSection()"/> 30~60分钟 </label>
          <label><input type="radio" name="recepTimeSection" value="018004-60~120分钟-60~120" _text="60~120分钟" @click="selRecepTimeSection()"/> 60~120分钟 </label>
          <label><input type="radio" name="recepTimeSection" value="018005-120分钟以上-120~" _text="120分钟以上" @click="selRecepTimeSection()"/> 120分钟以上 </label>
          <label class="wflj"><input type="radio" name="recepTimeSection" value="018000-无法了解" _text="无法了解" @click="selRecepTimeSection()"/> 无法了解 </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanRecepTimeSection()" id="cleanRecepTimeSectionBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">客户评级</div>
    <a href="" data-toggle="modal" data-target="#custCoreModal">
    <div class="col-input-4-1">
      <span class="input_style form-group" id="custCore">&nbsp;</span>
    </div>
    </a>
  </div>
  <div class="modal fade" id="custCoreModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span>&times</span></button>
          <h4 class="modal-title">客户评级</h4>
        </div>
        <div class="modal-body">
          <label><input type="radio" name="custCore" value="019001-A" _text="A" @click="selCustCore()"/> A </label>
          <label><input type="radio" name="custCore" value="019002-B" _text="B" @click="selCustCore()"/> B </label>
          <label><input type="radio" name="custCore" value="019003-C" _text="C" @click="selCustCore()"/> C </label>
          <label><input type="radio" name="custCore" value="019004-D" _text="D" @click="selCustCore()"/> D </label>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" @click="cleanCustCore()" id="cleanCustCoreBtn" style="display:none;">清除并关闭</button>
        </div>
      </div>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-8">本次置业比选项目</div>
    <div class="col-input">
      <textarea rows="3" placeholder="" name="compareProjs"></textarea>
    </div>
  </div>
  <div class="item_sflr row">
    <div class="col-title col-title-4">客户描述</div>
    <div class="col-input">
    <textarea rows="3" placeholder="" name="custDescn"></textarea>
    </div>
  </div>
  <div class="row row-link">
    <div class="col-50" style="margin-top:1.5rem;" onClick="step3Prev()"><a href="#">上一步</a></div>
    <div class="col-50" style="margin-top:1.5rem;" onClick="commitData()"><a href="#">提交</a></div>
  </div>
</div>

<script>
var _uUserId="";
var _uProjId="";
var _uProjName="";
var _uSex="";
var _uAgeGroup="";
var _uFamilyStatus="";
var _uTrafficType="";
var _uTrafficTypeDesc="";
var _uBuyQualify="";
var _uWorkIndustry="";
var _uWorkIndustryDesc="";
var _uEnterpriseType="";
var _uEnterpriseTypeDesc="";
var _uRealtyProductType="";
var _uRealtyProductTypeDesc="";
var _uAttentAcreage="";
var _uPriceSection=""
var _uBuyPurpose=""
var _uBuyPurposeDesc=""
var _uKnowWay="";
var _uKnowWayDesc="";
var _uAttentionPoint="";
var _uAttentionPointDesc="";
var _uEstCustWorth="";
var _uInvestType="";
var _uInvestTypeDesc="";
var _uCaptalPrepSection="";
var _uRecepTimeSection="";
var _uCustCore="";
var _uLocalResidence="";
var _uLocalWorkarea="";
var _uOutResidence="";
var _uOutWorkarea="";

//复选单选处理
function selProj() {
  var choose=document.getElementsByName('proj');
  for (var i=0; i<choose.length; i++) {
    if (choose[i].checked) {
      $("#proj").html(choose[i].getAttribute("_text"));
      _uProjName=choose[i].getAttribute("_text");
      _uProjId=choose[i].value.substring(0, choose[i].value.indexOf('-'));
    }
  }
  $("#projModal").modal('hide');
  if (_uProjId!="") $("#cleanProjBtn").show();
}
var vueStep1=new Vue({
  el: "#step1",
  methods: {
    cleanProj: function() {
      $("#proj").html("&nbsp;");
      _uProjId="";
      _uProjName="";
      $("#cleanProjBtn").hide();
      fillSelectField('proj', "", false);
    },
    selSex: function() {
      var choose=document.getElementsByName('sex');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#sex").html(choose[i].getAttribute("_text"));
          _uSex=choose[i].value;
        }
      }
      $("#sexModal").modal('hide');
      if (_uSex!="") $("#cleanSexBtn").show();
    },
    cleanSex: function() {
      $("#sex").html("&nbsp;");
      _uSex="";
      $("#cleanSexBtn").hide();
      fillSelectField('sex', "", false);
    },
    selAgeGroup: function() {
      var choose=document.getElementsByName('ageGroup');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#ageGroup").html(choose[i].getAttribute("_text"));
          _uGgeGroup=choose[i].value;
        }
      }
      $("#ageGroupModal").modal('hide');
      if (_uGgeGroup!="") $("#cleanAgeGroupBtn").show();
    },
    cleanAgeGroup: function() {
      $("#ageGroup").html("&nbsp;");
      _uGgeGroup="";
      $("#cleanAgeGroupBtn").hide();
      fillSelectField('ageGroup', "", false);
    },
    selFamilyStatus: function() {
      var choose=document.getElementsByName('familyStatus');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#familyStatus").html(choose[i].getAttribute("_text"));
          _uFamilyStatus=choose[i].value;
        }
      }
      $("#familyStatusModal").modal('hide');
      if (_uFamilyStatus!="") $("#cleanFamilyStatusBtn").show();
    },
    cleanFamilyStatus: function() {
      $("#familyStatus").html("&nbsp;");
      _uFamilyStatus="";
      $("#cleanFamilyStatusBtn").hide();
      fillSelectField('familyStatus', "", false);
    },
    selTrafficType: function() {
      var choose=document.getElementsByName('trafficType');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='trafficTypeDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='trafficTypeDesc']").val())+")";
              _uTrafficTypeDesc=$.trim($("input[name='trafficTypeDesc']").val());
            }
          }
          ttArray+=","+oneText;
          _uTrafficType+=","+choose[i].value;
        } else {
          if (choose[i].getAttribute("_text")=='其他') $("input[name='trafficTypeDesc']").val("");
        }
      }
//      if (selOther&&_uTrafficTypeDesc=="") alert("请录入“其他”交通出行方式");
//      else {
        if (_uTrafficType.length>0) {
          _uTrafficType=_uTrafficType.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#trafficType").html(ttArray==""?"&nbsp;":ttArray);
        $("#trafficTypeModal").modal('hide');
        if (_uTrafficType!="") $("#cleanTrafficTypeBtn").show();
//      }
    },
    cleanTrafficType: function(type) {
      if (type==2) {
        _uTrafficType="";
        _uTrafficTypeDesc="";
        $("#trafficType").html("&nbsp;");
        $("#cleanTrafficTypeBtn").hide();
      }
      fillSelectField('trafficType', $("#trafficType").html(), false);
    },
    clickTrafficCheck: function(flag) {
      var choose=document.getElementsByName('trafficType');
      var n=0;
      for (var i=0; i<choose.length; i++) if (choose[i].checked) n++;
      if (flag==1) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
      if (flag==2) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")!='无法了解') choose[i].checked=false;
          }
          $("input[name='trafficTypeDesc']").hide();
        }
      }
      if (flag==3) {
        var otherCheck=false;
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') otherCheck=true;
        }
        if (otherCheck) $("input[name='trafficTypeDesc']").show(); else $("input[name='trafficTypeDesc']").hide();
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
    }
  }
});
$('#trafficTypeModal').on('hide.bs.modal', function () {
  vueStep1.cleanTrafficType(1);
});
var vueStep2=new Vue({
  el: "#step2",
  data: {
    u_tempKnowWayGGP: "",
    u_tempKnowWayJS: ""
  },
  methods: {
    selBuyQualify: function() {
      var choose=document.getElementsByName('buyQualify');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#buyQualify").html(choose[i].getAttribute("_text"));
          _uBuyQualify=choose[i].value;
        }
      }
      $("#buyQualifyModal").modal('hide');
      if (_uBuyQualify!="") $("#cleanBuyQualifyBtn").show();
    },
    cleanBuyQualify: function() {
      $("#buyQualify").html("&nbsp;");
      _uBuyQualify="";
      $("#cleanBuyQualifyBtn").hide();
      fillSelectField('buyQualify', "", false);
    },
    selWorkIndustry: function() {
      var choose=document.getElementsByName('workIndustry');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='workIndustryDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='workIndustryDesc']").val())+")";
              _uWorkIndustryDesc=$.trim($("input[name='workIndustryDesc']").val());
            }
          } else {
            _uWorkIndustryDesc="";
            $("input[name='workIndustryDesc']").val("");
            $("input[name='workIndustryDesc']").hide();
          }
          ttArray+=","+oneText;
          _uWorkIndustry+=","+choose[i].value;
        }
      }
//      if (selOther&&_uWorkIndustryDesc=="") alert("请录入“其他”从事行业方式");
//      else {
        if (_uWorkIndustry.length>0) {
          _uWorkIndustry=_uWorkIndustry.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#workIndustry").html(ttArray==""?"&nbsp;":ttArray);
        $("#workIndustryModal").modal('hide');
        if (_uWorkIndustry!="") $("#cleanWorkIndustryBtn").show();
//      }
    },
    cleanWorkIndustry: function() {
      $("#workIndustry").html("&nbsp;");
      _uWorkIndustry="";
      _uWorkIndustryDesc="";
      $("#cleanWorkIndustryBtn").hide();
      $("input[name='workIndustryDesc']").val("");
      $("input[name='workIndustryDesc']").hide();
      fillSelectField('workIndustry', "", false);
    },
    clickWorkIndustry: function() {
      var otherCheck=false;
      var choose=document.getElementsByName('workIndustry');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') {
          otherCheck=true;
          break;
        }
      }
      if (otherCheck) $("input[name='workIndustryDesc']").show(); else $("input[name='workIndustryDesc']").hide();
    },
    selEnterpriseType: function() {
      var choose=document.getElementsByName('enterpriseType');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='enterpriseTypeDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='enterpriseTypeDesc']").val())+")";
              _uEnterpriseTypeDesc=$.trim($("input[name='enterpriseTypeDesc']").val());
            }
          } else {
            _uEnterpriseTypeDesc="";
            $("input[name='enterpriseTypeDesc']").val("");
            $("input[name='enterpriseTypeDesc']").hide();
          }
          ttArray+=","+oneText;
          _uEnterpriseType+=","+choose[i].value;
        }
      }
//      if (selOther&&_uEnterpriseTypeDesc=="") alert("请录入“其他”企业性质");
//      else {
        if (_uEnterpriseType.length>0) {
          _uEnterpriseType=_uEnterpriseType.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#enterpriseType").html(ttArray==""?"&nbsp;":ttArray);
        $("#enterpriseTypeModal").modal('hide');
        if (_uEnterpriseType!="") $("#cleanEnterpriseTypeBtn").show();
//      }
    },
    cleanEnterpriseType: function() {
      $("#enterpriseType").html("&nbsp;");
      _uEnterpriseType="";
      _uEnterpriseTypeDesc="";
      $("#cleanEnterpriseTypeBtn").hide();
      $("input[name='enterpriseTypeDesc']").val("");
      $("input[name='enterpriseTypeDesc']").hide();
      fillSelectField('enterpriseType', "", false);
    },
    clickEnterpriseType: function() {
      var otherCheck=false;
      var choose=document.getElementsByName('enterpriseType');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') {
          otherCheck=true;
          break;
        }
      }
      if (otherCheck) $("input[name='enterpriseTypeDesc']").show(); else $("input[name='enterpriseTypeDesc']").hide();
    },
    selKnowWay: function() {
      this.u_tempKnowWayGGP='';
      this.u_tempKnowWayJS='';
      var choose=document.getElementsByName('knowWay');
      var ttArray="";
      var selOther=false;
      _uKnowWayDesc="";
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='knowWayDesc']").val())!="") {
              _uKnowWayDesc+=","+oneText+"="+$.trim($("input[name='knowWayDesc']").val());
              oneText=oneText+"("+$.trim($("input[name='knowWayDesc']").val())+")";
            }
          }
          if (choose[i].getAttribute("_text")=='户外广告牌') {
            if ($.trim($("input[name='knowWayGGP']").val())!="") {
              _uKnowWayDesc+=","+oneText+"="+$.trim($("input[name='knowWayGGP']").val());
              oneText=oneText+"("+$.trim($("input[name='knowWayGGP']").val())+")";
            }
          }
          if (choose[i].getAttribute("_text")=='渠道介绍') {
            if ($.trim($("input[name='knowWayJS']").val())!="") {
              _uKnowWayDesc+=","+oneText+"="+$.trim($("input[name='knowWayJS']").val());
              oneText=oneText+"("+$.trim($("input[name='knowWayJS']").val())+"公司)";
            }
          }
          ttArray+=","+oneText;
          _uKnowWay+=","+choose[i].value;
        }
      }
//      if (selOther&&_uKnowWayDesc=="") alert("请录入“其他”从事行业方式");
//      else {
        if (_uKnowWay.length>0) {
          _uKnowWay=_uKnowWay.substr(1);
          ttArray=ttArray.substr(1);
        }
        if (_uKnowWayDesc.length>0) _uKnowWayDesc=_uKnowWayDesc.substr(1);
        $("#knowWay").html(ttArray==""?"&nbsp;":ttArray);
        $("#knowWayModal").modal('hide');
        if (_uKnowWay!="") $("#cleanKnowWayBtn").show();
//      }
    },
    cleanKnowWay: function(type) {
      if (type==2) {
        _uKnowWay="";
        _uKnowWayDesc="";
        $("#knowWay").html("&nbsp;");
        $("#cleanKnowWayBtn").hide();
        $("input[name='knowWayDesc']").val("");
        $("input[name='knowWayDesc']").hide();
        $("input[name='knowWayGGP']").val("");
        $("input[name='knowWayGGP']").attr("readonly",true);
        $("input[name='knowWayJS']").val("");
        $("input[name='knowWayJS']").attr("readonly",true);
      }
      fillSelectField('knowWay', $("#knowWay").html(), false);
    },
    clickKnowWayCheck: function(flag) {
      var choose=document.getElementsByName('knowWay');
      var n=0;
      for (var i=0; i<choose.length; i++) if (choose[i].checked) n++;
      if (flag==1) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
      if (flag==2) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")!='无法了解') choose[i].checked=false;
          }
          $("input[name='knowWayDesc']").hide();
          this.u_tempKnowWayGGP=$("input[name='knowWayGGP']").val();
          $("input[name='knowWayGGP']").val("");
          this.u_tempKnowWayJS=$("input[name='knowWayJS']").val();
          $("input[name='knowWayJS']").val("");
          $("input[name='knowWayGGP']").attr("readonly",true);
          $("input[name='knowWayJS']").attr("readonly",true);
        }
      }
      if (flag==3) {
        var otherCheck=false;
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') otherCheck=true;
        }
        if (otherCheck) $("input[name='knowWayDesc']").show(); else $("input[name='knowWayDesc']").hide();
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
    },
    clickKnowWayGGP: function() {
      var ggpCheck=false;
      var choose=document.getElementsByName('knowWay');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked&&choose[i].getAttribute("_text")=='户外广告牌') {
          ggpCheck=true;
          break;
        }
      }
      $("input[name='knowWayGGP']").attr("readonly",!ggpCheck);
      if (ggpCheck) $("input[name='knowWayGGP']").val(this.u_tempKnowWayGGP);
      else {
        this.u_tempKnowWayGGP=$("input[name='knowWayGGP']").val();
        $("input[name='knowWayGGP']").val("");
      }
      if (ggpCheck) {
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
            choose[i].checked=false;
            break;
          }
        }
      }
    },
    clickKnowWayJS: function() {
      var jsCheck=false;
      var choose=document.getElementsByName('knowWay');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked&&choose[i].getAttribute("_text")=='渠道介绍') {
          jsCheck=true;
          break;
        }
      }
      $("input[name='knowWayJS']").attr("readonly",!jsCheck);
      if (jsCheck) $("input[name='knowWayJS']").val(this.u_tempKnowWayJS);
      else {
        this.u_tempKnowWayJS=$("input[name='knowWayJS']").val();
        $("input[name='knowWayJS']").val("");
      }
      if (jsCheck) {
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
            choose[i].checked=false;
            break;
          }
        }
      }
    },
    selEstCustWorth: function() {
      var choose=document.getElementsByName('estCustWorth');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#estCustWorth").html(choose[i].getAttribute("_text"));
          _uEstCustWorth=choose[i].value;
        }
      }
      $("#estCustWorthModal").modal('hide');
      if (_uEstCustWorth!="") $("#cleanEstCustWorthBtn").show();
    },
    cleanEstCustWorth: function() {
      $("#estCustWorth").html("&nbsp;");
      _uEstCustWorth="";
      $("#cleanEstCustWorthBtn").hide();
      fillSelectField('estCustWorth', "", false);
    },
    selInvestType: function() {
      var choose=document.getElementsByName('investType');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='investTypeDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='investTypeDesc']").val())+")";
              _uInvestTypeDesc=$.trim($("input[name='investTypeDesc']").val());
            }
          }
          ttArray+=","+oneText;
          _uInvestType+=","+choose[i].value;
        }
      }
//      if (selOther&&_uInvestTypeDesc=="") alert("请录入“其他”从事行业方式");
//      else {
        if (_uInvestType.length>0) {
          _uInvestType=_uInvestType.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#investType").html(ttArray==""?"&nbsp;":ttArray);
        $("#investTypeModal").modal('hide');
        if (_uInvestType!="") $("#cleanInvestTypeBtn").show();
//      }
    },
    cleanInvestType: function(type) {
      if (type==2) {
        _uInvestType="";
        _uInvestTypeDesc="";
        $("#investType").html("&nbsp;");
        $("#cleanInvestTypeBtn").hide();
      }
      fillSelectField('investType', $("#investType").html(), false);
    },
    clickInvestTypeCheck: function(flag) {
      var choose=document.getElementsByName('investType');
      var n=0;
      for (var i=0; i<choose.length; i++) if (choose[i].checked) n++;
      if (flag==1) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
      if (flag==2) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")!='无法了解') choose[i].checked=false;
          }
          $("input[name='investTypeDesc']").hide();
        }
      }
      if (flag==3) {
        var otherCheck=false;
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') otherCheck=true;
        }
        if (otherCheck) $("input[name='investTypeDesc']").show(); else $("input[name='investTypeDesc']").hide();
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
    },
    selCaptalPrepSection: function() {
      var choose=document.getElementsByName('captalPrepSection');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#captalPrepSection").html(choose[i].getAttribute("_text"));
          _uCaptalPrepSection=choose[i].value;
        }
      }
      $("#captalPrepSectionModal").modal('hide');
      if (_uCaptalPrepSection!="") $("#cleanCaptalPrepSectionBtn").show();
    },
    cleanCaptalPrepSection: function() {
      $("#captalPrepSection").html("&nbsp;");
      _uCaptalPrepSection="";
      $("#cleanCaptalPrepSectionBtn").hide();
      fillSelectField('captalPrepSection', "", false);
    }
  }
});
$('#workIndustryModal').on('hide.bs.modal', function () {
  fillSelectField('workIndustry', $("#workIndustry").html(), false);
});
$('#enterpriseTypeModal').on('hide.bs.modal', function () {
  fillSelectField('enterpriseType', $("#enterpriseType").html(), false);
});
$('#knowWayModal').on('hide.bs.modal', function () {
  vueStep2.cleanKnowWay(1);
});
$('#investTypeModal').on('hide.bs.modal', function () {
  vueStep2.cleanInvestType(1);
});
var vueStep3=new Vue({
  el: "#step3",
  methods: {
    selRealtyProductType: function() {
      var choose=document.getElementsByName('realtyProductType');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='realtyProductTypeDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='realtyProductTypeDesc']").val())+")";
              _uRealtyProductTypeDesc=$.trim($("input[name='realtyProductTypeDesc']").val());
            }
          }
          ttArray+=","+oneText;
          _uRealtyProductType+=","+choose[i].value;
        }
      }
//      if (selOther&&_uRealtyProductTypeDesc=="") alert("请录入“其他”关注产品类型");
//      else {
        if (_uRealtyProductType.length>0) {
          _uRealtyProductType=_uRealtyProductType.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#realtyProductType").html(ttArray==""?"&nbsp;":ttArray);
        $("#realtyProductTypeModal").modal('hide');
        if (_uRealtyProductType!="") $("#cleanRealtyProductTypeBtn").show();
//      }
    },
    cleanRealtyProductType: function(type) {
      if (type==2) {
        _uRealtyProductType="";
        _uRealtyProductTypeDesc="";
        $("#realtyProductType").html("&nbsp;");
        $("#cleanRealtyProductTypeBtn").hide();
      }
      fillSelectField('realtyProductType', $("#realtyProductType").html(), false);
    },
    clickRealtyProductTypeCheck: function(flag) {
      var choose=document.getElementsByName('realtyProductType');
      var n=0;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) n++;
      }
      if (flag==1) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
      if (flag==2) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")!='无法了解') choose[i].checked=false;
          }
          $("input[name='realtyProductTypeDesc']").hide();
        }
      }
      if (flag==3) {
        var otherCheck=false;
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') otherCheck=true;
        }
        if (otherCheck) $("input[name='realtyProductTypeDesc']").show(); else $("input[name='realtyProductTypeDesc']").hide();
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
    },
    selAttentAcreage: function() {
      var choose=document.getElementsByName('attentAcreage');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#attentAcreage").html(choose[i].getAttribute("_text"));
          _uAttentAcreage=choose[i].value;
        }
      }
      $("#attentAcreageModal").modal('hide');
      if (_uAttentAcreage!="") $("#cleanAttentAcreageBtn").show();
    },
    cleanAttentAcreage: function() {
      $("#attentAcreage").html("&nbsp;");
      _uAttentAcreage="";
      $("#cleanAttentAcreageBtn").hide();
      fillSelectField('attentAcreage', "", false);
    },
    selPriceSection: function() {
      var choose=document.getElementsByName('priceSection');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#priceSection").html(choose[i].getAttribute("_text"));
          _uPriceSection=choose[i].value;
        }
      }
      $("#priceSectionModal").modal('hide');
      if (_uPriceSection!="") $("#cleanPriceSectionBtn").show();
    },
    cleanPriceSection: function() {
      $("#priceSection").html("&nbsp;");
      _uPriceSection="";
      $("#cleanPriceSectionBtn").hide();
      fillSelectField('priceSection', "", false);
    },
    selBuyPurpose: function() {
      var choose=document.getElementsByName('buyPurpose');
      var selOther=false;
      var ttArray="";
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='buyPurposeDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='buyPurposeDesc']").val())+")";
              _uBuyPurposeDescDesc=$.trim($("input[name='buyPurposeDesc']").val());
            }
          } else {
            _uBuyPurposeDesc="";
            $("input[name='buyPurposeDesc']").val("");
            $("input[name='buyPurposeDesc']").hide();
          }
          ttArray+=","+oneText;
          _uBuyPurposeDesc+=","+choose[i].value;
        }
      }
//      if (selOther&&_uBuyPurposeDescDesc=="") alert("请录入“其他”购房目的");
//      else {
        if (_uBuyPurposeDesc.length>0) {
          _uBuyPurposeDesc=_uBuyPurposeDesc.substr(1);
          ttArray=ttArray.substr(1);
        }
        $("#buyPurpose").html(ttArray==""?"&nbsp;":ttArray);
        $("#buyPurposeModal").modal('hide');
        if (_uBuyPurposeDesc!="") $("#cleanBuyPurposeBtn").show();
//      }
    },
    cleanBuyPurpose: function() {
      $("#buyPurpose").html("&nbsp;");
      _uBuyPurpose="";
      _uBuyPurposeDesc="";
      $("#cleanBuyPurposeBtn").hide();
      $("input[name='buyPurposeDesc']").val("");
      $("input[name='buyPurposeDesc']").hide();
      fillSelectField('buyPurpose', "", false);
    },
    clickBuyPurpose: function() {
      var otherCheck=false;
      var choose=document.getElementsByName('buyPurpose');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') {
          otherCheck=true;
          break;
        }
      }
      if (otherCheck) $("input[name='buyPurposeDesc']").show(); else $("input[name='buyPurposeDesc']").hide();
    },
    selAttentionPoint: function() {
      var choose=document.getElementsByName('attentionPoint');
      var ttArray="";
      var selOther=false;
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          var oneText=choose[i].getAttribute("_text");
          if (choose[i].getAttribute("_text")=='其他') {
            selOther=true;
            if ($.trim($("input[name='attentionPointDesc']").val())!="") {
              oneText=oneText+"("+$.trim($("input[name='attentionPointDesc']").val())+")";
              _uAttentionPointDesc=$.trim($("input[name='attentionPointDesc']").val());
            }
          }
          ttArray+=","+oneText;
          _uAttentionPointDesc+=","+choose[i].value;
        }
      }
//      if (selOther&&_uAttentionPointDescDesc=="") alert("请录入“其他”购房目的");
//      else {
      if (_uAttentionPointDesc.length>0) {
        _uAttentionPointDesc=_uAttentionPointDesc.substr(1);
        ttArray=ttArray.substr(1);
      }
      $("#attentionPoint").html(ttArray==""?"&nbsp;":ttArray);
      $("#attentionPointModal").modal('hide');
      if (_uAttentionPointDesc!="") $("#cleanAttentionPointBtn").show();
//      }
    },
    cleanAttentionPoint: function(type) {
      if (type==2) {
        _uAttentionPoint="";
        _uAttentionPointDesc="";
        $("#attentionPoint").html("&nbsp;");
        $("#cleanAttentionPointBtn").hide();
        $("input[name='attentionPointDesc']").val("");
        $("input[name='attentionPointDesc']").hide();
      }
      fillSelectField('attentionPoint', $("#trafficType").html(), false);
    },
    clickAttentionPointCheck: function(flag) {
      var choose=document.getElementsByName('attentionPoint');
      var n=0;
      for (var i=0; i<choose.length; i++) if (choose[i].checked) n++;
      if (flag==1) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
      if (flag==2) {
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")!='无法了解') choose[i].checked=false;
          }
          $("input[name='attentionPointDesc']").hide();
        }
      }
      if (flag==3) {
        var otherCheck=false;
        for (var i=0; i<choose.length; i++) {
          if (choose[i].checked&&choose[i].getAttribute("_text")=='其他') otherCheck=true;
        }
        if (otherCheck) $("input[name='attentionPointDesc']").show(); else $("input[name='attentionPointDesc']").hide();
        if (n>1) {
          for (var i=0; i<choose.length; i++) {
            if (choose[i].checked&&choose[i].getAttribute("_text")=='无法了解') {
              choose[i].checked=false;
              break;
            }
          }
        }
      }
    },
    selRecepTimeSection: function() {
      var choose=document.getElementsByName('recepTimeSection');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#recepTimeSection").html(choose[i].getAttribute("_text"));
          _uRecepTimeSection=choose[i].value;
        }
      }
      $("#recepTimeSectionModal").modal('hide');
      if (_uRecepTimeSection!="") $("#cleanRecepTimeSectionBtn").show();
    },
    cleanRecepTimeSection: function() {
      $("#recepTimeSection").html("&nbsp;");
      _uRecepTimeSection="";
      $("#cleanRecepTimeSectionBtn").hide();
      fillSelectField('recepTimeSection', $("#recepTimeSection").html(), false);
    },
    selCustCore: function() {
      var choose=document.getElementsByName('custCore');
      for (var i=0; i<choose.length; i++) {
        if (choose[i].checked) {
          $("#custCore").html(choose[i].getAttribute("_text"));
          _uCustCore=choose[i].value;
        }
      }
      $("#custCoreModal").modal('hide');
      if (_uCustCore!="") $("#cleanCustCoreBtn").show();
    },
    cleanCustCore: function() {
      $("#custCore").html("&nbsp;");
      _uCustCore="";
      $("#cleanCustCoreBtn").hide();
      fillSelectField('custCore', $("#custCore").html(), false);
    }
  }
});
$('#realtyProductTypeModal').on('hide.bs.modal', function () {
  vueStep3.cleanRealtyProductType(1);
});
$('#buyPurposeModal').on('hide.bs.modal', function () {
  fillSelectField('buyPurpose', $("#buyPurpose").html(), false);
});
$('#attentionPointModal').on('hide.bs.modal', function () {
  vueStep3.cleanAttentionPoint(1);
});

function fillSelectField(id, value, isSetValue) {
  var choose=document.getElementsByName(''+id);
  var _checkeds=value.split(",");
  var _fv="";
  var _fvOther="";
  $("input[name='"+id+"Desc']").val("");
  $("input[name='"+id+"Desc']").hide();
  if (id=="knowWay") {
    $("input[name='knowWayGGP']").val("");
    $("input[name='knowWayJS']").val("");
  }
  for (var i=0; i<choose.length; i++) {
    var _t=choose[i].getAttribute("_text");
    var j=0;
    for (; j<_checkeds.length; j++) if (_checkeds[j].indexOf(_t)==0) break;
    choose[i].checked=j<_checkeds.length;
    if (choose[i].checked) {
      if (isSetValue) _fv+=","+choose[i].value;
      if (choose[i].getAttribute("_text")=='其他'&&$("input[name='"+id+"Desc']")) {
        $("input[name='"+id+"Desc']").show();
        if (_checkeds[j].indexOf("(")>0) {
          var otherStr=_checkeds[j];
          var endIndex=otherStr.length-1;
          if (id=='knowWay') endIndex=endIndex-2;
          $("input[name='"+id+"Desc']").val(otherStr.substring(otherStr.indexOf("(")+1, endIndex));
          if (isSetValue) {
            _fvOther=$("input[name='"+id+"Desc']").val();
            if (id=='knowWay') _fvOther+=",其他="+_fvOther;
          }
        }
      }
      if (id=='knowWay') {
        if (choose[i].getAttribute("_text")=='户外广告牌'&&$("input[name='"+id+"GGP']")) {
          $("input[name='knowWayGGP']").attr("readonly",false);
          if (_checkeds[j].indexOf("(")>0) {
            var otherStr=_checkeds[j];
            var endIndex=otherStr.length-1;
            $("input[name='knowWayGGP']").val(otherStr.substring(otherStr.indexOf("(")+1, endIndex));
            if (isSetValue) {
              _fvOther+=",户外广告牌="+$("input[name='knowWayGGP']").val();
            }
          }
        }
        if (choose[i].getAttribute("_text")=='渠道介绍'&&$("input[name='"+id+"JS']")) {
          $("input[name='knowWayJS']").attr("readonly",false);
          if (_checkeds[j].indexOf("(")>0) {
            var otherStr=_checkeds[j];
            var endIndex=otherStr.length-3;
            $("input[name='knowWayJS']").val(otherStr.substring(otherStr.indexOf("(")+1, endIndex));
            if (isSetValue) {
              _fvOther+=",渠道介绍="+$("input[name='"+id+"Desc']").val();
            }
          }
        }
      }
    }
  }
  if (isSetValue) {
    if (_fv.length>0) _fv=_fv.substr(1);
    var _id=id.substr(0,1).toUpperCase()+id.substr(1);
    eval("_u"+_id+"=_fv");
    if (_fvOther) {
      if (id=='knowWay'&&_fvOther.length>0) _fvOther=_fvOther.substr(1);
      eval("_u"+_id+"Desc=_fv");
    }
  }
}
//=====================================================================


//=====================================================================
var _TYPE="add";
var recordId="";//记录Id只有当_TYPE=update时，此变量才有值。
var custId="";

//填充数据,并初始化
$(function() {
  $(".subNav").click(function(){
    $(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd");
    $(this).toggleClass("currentDt").siblings(".subNav").removeClass("currentDt");
    $(this).next(".navContent").slideToggle(500).siblings(".navContent").slideUp(500);
  });
  $("#auditArea").hide();
  _TYPE=getUrlParam(window.location.href, 'type');
  if (_TYPE==null) _TYPE="add";
  if (_TYPE.toLocaleLowerCase()=='update') _TYPE="update";
  $(document).attr("title","客户数据中心-首访信息录入");

  if (_TYPE=='add') initData();
  else if (_TYPE=='update') {
    $("#auditArea").show();
    $(document).attr("title","客户数据中心-首访信息修改");
    //获得本条记录消息信息
    var recordId=getUrlParam(window.location.href, 'recordId');
    if (!recordId) window.location.href=_URL_BASE+"/wxfront/err.html?3000=无记录Id";
    else {
      var _data={};
      _data.recordId=recordId;
      var url=_URL_BASE+"/wx/api/getRecord01";
      $.ajax({type:"post", async:true, url:url, data:_data, dataType:"json",
        success: function(json) {
          if (json.msg=='100') {
            initData();
            fillData(json.data);
          } else {
            window.location.href=_URL_BASE+"/wxfront/err.html?1000=抱歉<br/>无法获得首访录入信息";
          }
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
          window.location.href=_URL_BASE+"/wxfront/err.html?2000=系统错误<br/>status="
            +XMLHttpRequest.status+"<br/>readyState="+XMLHttpRequest.readyState+"<br/>text="+textStatus;
        }
      });
    }
  }
});

function fillData(data) {//填数据
  if (!data) return;
  if (data.custname) $("input[name='custName']").val(data.custname);
  if (data.custphonenum) $("input[name='custPhone']").val(data.custphonenum);
  if (data.custsex) fillSelectField("sex", data.custsex, true);
  if (data.firstTime.time) fillTime("firstTime", data.firstTime.time);

  function fillTime(id, value) {
    var choose=document.getElementsByName(''+id);
    for (var i=0; i<choose.length; i++) {
      if (choose[i].getAttribute("_text")==value) {
        choose[i].checked=true;
        $("#"+id).val(value);
      }
    }
  }
}
function initData() {
  var url=_URL_BASE+"/wx/api/personalCenter";
  $.ajax({type:"post", async:true, url:url, data:null, dataType:"json",
    success: function(json) {
      if (json.msg=='100') {
        initPage(json.userInfo);
        $("#step1").show();
      } else {
        window.location.href=_URL_BASE+"/wxfront/err.html?1000=抱歉<br/>无法获得您的个人信息<br/>禁止录入";
      }
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {
      window.location.href=_URL_BASE+"/wxfront/err.html?2000=系统错误<br/>status="
        +XMLHttpRequest.status+"<br/>readyState="+XMLHttpRequest.readyState+"<br/>text="+textStatus;
    }
  });
  function initPage(data) {
    $("input[name='user']").val(data.realname);
    _uUserId=data.userid;
    var canShowProj=false;
    var prjNames=""+data.checkProj;
    var lPrj=prjNames.split(',');
    var projHtml="";
    var projId,projName;
    for (var i=0;i<lPrj.length; i++) {
      if ($.trim(lPrj[i])!='') {
        if (lPrj[i].indexOf('-')!=-1) {
          _uProj=lPrj[i];
          if (!canShowProj) canShowProj=true;
          projId=lPrj[i].substring(0,lPrj[i].indexOf('-'));
          projName=lPrj[i].substring(lPrj[i].indexOf('-')+1);
          projHtml+='<label><input type="radio" name="proj" value="'+projId+'-'+projName+'" _text="'+projName+'" onclick="selProj()"/> '+projName+' </label>';
        }
      }
    }
    if (canShowProj&&lPrj.length>1) {
      $("#projData").html(projHtml);
      $("#projArea").show(); 
    } else {
      _uProjName=projName;
      _uProjId=projId;
    }
    cleanData();
  }
}
function cleanData() {
  var nt=new Date();
  var str=""+nt.getFullYear()+"-";
  str+=((100+(nt.getMonth()+1))+"").substr(1)+"-";
  str+=((100+nt.getDate())+"").substr(1);
  $("input[name='curTime']").val(str);
  //清除所有数据
  $("input[name='custName']").val("");
  $("input[name='custPhone']").val("");
  $("input[name='firstTime']").val("");
  clean('sex');
  clean('ageGroup');
  cleanArea('localResidence');
  cleanArea('localWorkArea');
  cleanArea('outResidence');
  cleanArea('outWorkArea');
  clean('familyStatus');
  clean('trafficType');
  clean('buyQualify');
  clean('workIndustry');
  clean('enterpriseType');
  clean('knowWay');
  $("input[name='knowWayGGP']").val("");
  $("input[name='knowWayGGP']").attr("readonly",true);
  $("input[name='knowWayJS']").val("");
  $("input[name='knowWayJS']").attr("readonly",true);
  clean('estCustWorth');
  clean('investType');
  clean('captalPrepSection');
  clean('realtyProductType');
  clean('attentAcreage');
  clean('priceSection');
  clean('buyPurpose');
  clean('attentionPoint');
  clean('recepTimeSection');
  clean('custCore');
  $("textarea[name='compareProjs']").html("");
  $("textarea[name='custDescn']").html("");

  function clean(otherId) {
    $("#"+otherId).html("&nbsp;");
    var choose=document.getElementsByName(''+otherId);
    for (var i=0; i<choose.length; i++) if (choose[i].checked) choose[i].checked=false;
    try {
      $("input[name='"+otherId+"Desc']").val("");
      $("input[name='"+otherId+"Desc']").hide();
    }catch(e){}
  }
  function cleanArea() {
  }
}

//翻页切换
function step1Next() {//要判断是否应该进行首访录入
 if (_TYPE=='update') {
    $("#step1").hide(0);
    $("#step2").show(0);
    $("#step3").hide(0);
  } else if (_TYPE=='add') {//要判断是否应该进行首访录入
    //获得参数
    var _data={};
    _data.custName=$("input[name='custName']").val();
    _data.custPhone=$("input[name='custPhone']").val();
    var errMsg="";
    if (!$.trim(_data.custName)) errMsg+="\n请输入客户姓名！";
    if (!$.trim(_data.custPhone)) errMsg+="\n请输入客户电话号码！";
    else if (checkPhone($.trim(_data.custPhone))!=1) errMsg+="\n手机号码不符合规则"; 
    if (!$.trim(_uProjId)) errMsg+="\n请选择项目！";
    _data.projId=_uProjId;
    if (errMsg!="") {
      alert(errMsg.substr(1));
      return;
    }
    var canNext=false;
    var url=_URL_BASE+"/wx/api/existRecord01";
    $.ajax({type:"post", async:true, url:url, data:_data, dataType:"json",
      success: function(json) {
        if (json.msg=='103') {
          window.location.href=_URL_BASE+"/wxfront/err.html?1000=抱歉<br/>系统出现未知问题，不能录入";
        } else if (json.msg=='100') { //有就已存在
          if (json.authorId==_uUserId) {//转复方
            alert("此用户已经到访过，将转入复访录入");
            window.location.href=_URL_BASE+"/wxfront/input/record02.html?type=add&custName="+encodeURIComponent(_data.custName)+"&custPhone="+encodeURIComponent(_data.custPhone)+"&projId="+encodeURIComponent(_data.projId);
          } else {
            window.location.href=_URL_BASE+"/wxfront/err.html?4000=此客户已由【"+json.authorName+"】进行接待<br/>您无权录入！";
            return;
          }
        } else canNext=true;
        if (canNext) {
          $("#step1").hide(0);
          $("#step2").show(0);
          $("#step3").hide(0);
        }
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
        window.location.href=_URL_BASE+"/wxfront/err.html?2000=系统错误<br/>status="
          +XMLHttpRequest.status+"<br/>readyState="+XMLHttpRequest.readyState+"<br/>text="+textStatus;
      }
    });
  }
}
function step2Prev() {
  $("#step1").show(0);
  $("#step2").hide(0);
  $("#step3").hide(0);
}
function step2Next() {
  $("#step1").hide(0);
  $("#step2").hide(0);
  $("#step3").show(0);
}
function step3Prev() {
  $("#step1").hide(0);
  $("#step2").show(0);
  $("#step3").hide(0);
}

//=以下为提交，包括修改和删除====================================
function commitData() {
  var commitData=getData(_TYPE);
  var msg=validate(commitData, _TYPE);
  if (msg.err) {
    if (msg.returnTo==1) step2Prev();
    alert(msg.err);
    return;
  }
  if (_TYPE=='add') {
    commitInsert(commitData);
  } else if (_TYPE='update') {
    commitUpdate(commitData);
  }

  function getData(type) {
    var retData={};
    var temp="";
    if (_uProjId) retData.projid=_uProjId;
    if (custId) retData.custid=custId;
    temp=$("input[name='custName']").val();
    if (temp) retData.custname=temp;
    temp=$("input[name='custPhone']").val();
    if (temp) retData.custphonenum=temp;
    temp=$("input[name='curTime']").val();
    if (temp) retData.receptime1=temp;
    temp=$("input[name='firstTime']").val();
    if (temp) retData.firstknowtime1=temp;
    if (_uSex) retData.custsex=_uSex;
    if (_uAgeGroup) retData.agegroup=_uAgeGroup;
    if (_uBuyQualify) retData.buyqualify=_uBuyQualify;
    if (_uLocalResidence) retData.localresidence=_uLocalResidence;
    if (_uLocalWorkarea) retData.localworkarea=_uLocalWorkarea;
    if (_uOutResidence) retData.outresidence=_uOutResidence;
    if (_uOutWorkarea) retData.outworkarea=_uOutWorkarea;
    if (_uFamilyStatus) retData.familystatus=_uFamilyStatus;
    if (_uTrafficType) retData.traffictype=_uTrafficType;
    if (_uWorkIndustry) retData.workindustry=_uWorkIndustry;
    if (_uEnterpriseType) retData.enterprisetype=_uEnterpriseType;
    if (_uRealtyProductType) retData.realtyproducttype=_uRealtyProductType;
    if (_uAttentAcreage) retData.attentacreage=_uAttentAcreage;
    if (_uPriceSection) retData.pricesection=_uPriceSection;
    if (_uBuyPurpose) retData.buypurpose=_uBuyPurpose;
    if (_uKnowWay) retData.knowway=_uKnowWay;
    if (_uAttentionPoint) retData.attentionpoint=_uAttentionPoint;
    if (_uEstCustWorth) retData.estcustworth=_uEstCustWorth;
    if (_uInvestType) retData.investtype=_uInvestType;
    if (_uCaptalPrepSection) retData.captalprepsection=_uCaptalPrepSection;
    temp=$("textarea[name='compareProjs']").html();
    if (temp) retData.compareprojs=temp;
    if (_uRecepTimeSection) retData.receptimesection=_uRecepTimeSection;
    if (_uCustCore) retData.custscore=_uCustCore;
    if (type=='add') {
      if (_uUserId) retData.authorid=_uUserId;
      if (_uUserId) retData.creatorid=_uUserId;
    }
    if (_uTrafficTypeDesc) retData.traffictypedesc=_uTrafficTypeDesc;
    if (_uWorkIndustryDesc) retData.workindustrydesc=_uWorkIndustryDesc;
    if (_uEnterpriseTypeDesc) retData.enterprisetypedesc=_uEnterpriseTypeDesc;
    if (_uRealtyProductTypeDesc) retData.realtyproducttypedesc=_uRealtyProductTypeDesc;
    if (_uBuyPurposeDesc) retData.buypurposedesc=_uBuyPurposeDesc;
    if (_uKnowWayDesc) retData.knowwaydesc=_uKnowWayDesc;
    if (_uAttentionPointDesc) retData.attentionpointdesc=_uAttentionPointDesc;
    if (_uInvestTypeDesc) retData.investtypedesc=_uInvestTypeDesc;
    temp=$("textarea[name='custDescn']").html();
    if (temp) retData.custdescn=temp;
    return retData;
  }
  function validate(data, type) {
    var ret={};
    ret.err="";
    ret.turnTo=3;//到第几节
    var err="";
    if (!data) {
      err="请先输入数据";
      return ret;
    }
    if (!data.projid) ret.err+=";\n无法获得项目Id";
    if (!data.custid&&type=='update') ret.err+=";\n无法获得客户Id";
    if (!data.custname) {
      ret.err+=";\n无法获得客户名称";
      ret.turnTo=1;
    }
    if (!data.custphonenum) {
      ret.err+=";\n无法获得客户手机";
      ret.turnTo=1;
    }
    if (ret.err) ret.err=ret.err.substring(2);
    return ret;
  }
  function commitInsert(_data) {
    var url=_URL_BASE+"/wx/api/addHisFirstRecord";
    $.ajax({type:"post", async:true, url:url, data:_data, dataType:"json",
      success: function(json) {
        if (json.msg!='100') {
          window.location.href=_URL_BASE+"/wxfront/err.html?8001=录入首访记录错误！";
        } else {
          if (confirm("录入成功，要录入下一条首访记录吗？")) {
            cleanData();
            step2Prev();
          } else {
            window.location.href=_URL_BASE+"/wxfront/search/record01.html";
          }
        }
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
        window.location.href=_URL_BASE+"/wxfront/err.html?2000=系统错误<br/>status="
          +XMLHttpRequest.status+"<br/>readyState="+XMLHttpRequest.readyState+"<br/>text="+textStatus;
      }
    });
  }
  function commitUpdate(data) {
    var url=_URL_BASE+"/wx/api/updateRecord01";
    $.ajax({type:"post", async:true, url:url, data:_data, dataType:"json",
      success: function(json) {
        if (json.msg!='100') {
          window.location.href=_URL_BASE+"/wxfront/err.html?9001=修改首访记录错误！";
        } else {
          alert("修改首访记录成功!");
          window.location.href=_URL_BASE+"/wxfront/search/record01.html";
        }
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
        window.location.href=_URL_BASE+"/wxfront/err.html?2000=系统错误<br/>status="
          +XMLHttpRequest.status+"<br/>readyState="+XMLHttpRequest.readyState+"<br/>text="+textStatus;
      }
    });
  }
}
</script>
</body>
</html>