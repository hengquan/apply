<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<title>威视</title>
	<link type="text/css" rel="stylesheet" href="css/swiper.min.css">
	<link rel="stylesheet" type="text/css" href="css/animate.min.css">
	<link type="text/css" rel="stylesheet" href="css/main.css">
	<link type="text/css" rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="wrap">
	<div class="swiper-container">
		<div class="swiper-wrapper"> 
			<!--P1-->
			<div class="swiper-slide swiper-slide ">
				<div class="loading-page">
				  <div class="counter">
				    <p class="word">加载中</p>
				     <img src="images/loading-door.png" class="loading-door">
				    <div class="line">
					    <hr/>
					     <img src="images/loading-car0.png" class="loading-car">
					</div>
				  </div>
				</div>
			</div>

			<!--P2-->
			<div class="swiper-slide swiper-slide loading-page page1">
				<div class="door max-door">
					<div class="door middle-door">
						<div class="door mix-door">
							<p class="word" id="onFuture">点击未来</p>
						</div>
					</div>
				</div>
				<img class="wangge" src="images/page-wangge.png">
			</div>
			<!-- p3 -->
			<div class="swiper-slide swiper-slide">
				<div class="view">
				    <div class="big-bg" style="left: -17rem;">
				        <img src="./images/page03a.jpg" alt="" onload="readyFn();">
				    </div>
				    <div class="phone-more">
				    	 <img src="./images/bg_fdj.png" alt="">
				    	 <p>旋转观看更多</p>
				    </div>
				   
				</div>
			</div>

		</div>
	</div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script> 
<script type="text/javascript">
	function readyFn() {
	  'use strict';
	  var dom = document.querySelector('.big-bg'),
	      img = dom.querySelector('img');
	  var IMG_W = img.width,
	      IMG_H = img.height;
	  var WIN_W = document.documentElement.clientWidth,
	      WIN_H = document.documentElement.clientHeight;
	  var timefragment = 0,               // 时间片计时
	      nowts = 0;                      // 当前时间
	  // 设置默认的left/top
	  dom.style.top = -(IMG_H - WIN_H) / 2 + 'px';
	  dom.style.left = -(IMG_W - WIN_W) / 2 + 'px';
	  window.addEventListener('deviceorientation', function (evt) {
	    console.log('====')
	      nowts = new Date().getTime();
	      // 控制时间片
	      if (nowts  - timefragment > 37) {
	          timefragment = nowts;
	          var alpha = evt.alpha,          //垂直于屏幕的轴 0 ~ 360
	              beta = evt.beta,            //横向 X 轴 -180 ~ 180
	              gamma = evt.gamma;          //纵向 Y 轴 -90 ~ 90
	          var top = parseInt(dom.style.top, 10) || 0,
	              left = parseInt(dom.style.left, 10) || 0;
	          var _top, _left;
	          _top = top + (beta / 180 * 30);
	          _left = left + (gamma / 90 * 30);
	          _top = _top >= 0 ? 0 : (_top < (WIN_H - IMG_H) ? (WIN_H - IMG_H) : _top);
	          _left = _left >= 0 ? 0 : (_left < (WIN_W - IMG_W) ? (WIN_W - IMG_W) : _left);
	          dom.style.top = _top + 'px';
	          dom.style.left = _left + 'px';
	      }
	  }, false);
	}
</script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script type="text/javascript" src="js/swiper.min.js"></script> 
<script type="text/javascript" src="js/main.js"></script> 


</body>
</html>
