<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hj.wxmp.mobile.mapping.AccessRecord02Mapper" >
  <resultMap id="BaseResultMap" type="com.hj.wxmp.mobile.entity.AccessRecord02" >
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="projId" property="projid" jdbcType="VARCHAR" />
    <result column="custId" property="custid" jdbcType="VARCHAR" />
    <result column="custName" property="custname" jdbcType="VARCHAR" />
    <result column="custPhoneNum" property="custphonenum" jdbcType="VARCHAR" />
    <result column="childrenNum" property="childrennum" jdbcType="INTEGER" />
    <result column="childAgeGroup" property="childagegroup" jdbcType="VARCHAR" />
    <result column="childAvocations" property="childavocations" jdbcType="VARCHAR" />
    <result column="childAvocationsDesc" property="childavocationsdesc" jdbcType="VARCHAR" />
    <result column="schoolType" property="schooltype" jdbcType="VARCHAR" />
    <result column="schoolName" property="schoolname" jdbcType="VARCHAR" />
    <result column="livingRadius" property="livingradius" jdbcType="VARCHAR" />
    <result column="communityName" property="communityname" jdbcType="VARCHAR" />
    <result column="houseType" property="housetype" jdbcType="VARCHAR" />
    <result column="liveAcreage" property="liveacreage" jdbcType="VARCHAR" />
    <result column="enterpriseName" property="enterprisename" jdbcType="VARCHAR" />
    <result column="enterpriseAddress" property="enterpriseaddress" jdbcType="VARCHAR" />
    <result column="enterprisePost" property="enterprisepost" jdbcType="VARCHAR" />
    <result column="loanStatus" property="loanstatus" jdbcType="VARCHAR" />
    <result column="fulltimeWifeFlag" property="fulltimewifeflag" jdbcType="INTEGER" />
    <result column="outEduWill" property="outeduwill" jdbcType="INTEGER" />
    <result column="nannyFlag" property="nannyflag" jdbcType="INTEGER" />
    <result column="outExperFlag" property="outexperflag" jdbcType="INTEGER" />
    <result column="outExperCity" property="outexpercity" jdbcType="VARCHAR" />
    <result column="childOutExperFlag" property="childoutexperflag" jdbcType="INTEGER" />
    <result column="childOutExperCity" property="childoutexpercity" jdbcType="VARCHAR" />
    <result column="petFlag" property="petflag" jdbcType="INTEGER" />
    <result column="houseCount" property="housecount" jdbcType="INTEGER" />
    <result column="carFamilyCount" property="carfamilycount" jdbcType="INTEGER" />
    <result column="carBrand" property="carbrand" jdbcType="VARCHAR" />
    <result column="carTotalPrice" property="cartotalprice" jdbcType="VARCHAR" />
    <result column="attentWX" property="attentwx" jdbcType="VARCHAR" />
    <result column="appNames" property="appnames" jdbcType="VARCHAR" />
    <result column="avocations" property="avocations" jdbcType="VARCHAR" />
    <result column="resistPoint" property="resistpoint" jdbcType="VARCHAR" />
    <result column="attentionPoint" property="attentionpoint" jdbcType="VARCHAR" />
    <result column="loveActivation" property="loveactivation" jdbcType="VARCHAR" />
    <result column="freeTimeSection" property="freetimesection" jdbcType="VARCHAR" />
    <result column="visitorCount" property="visitorcount" jdbcType="INTEGER" />
    <result column="visitorRefs" property="visitorrefs" jdbcType="VARCHAR" />
    <result column="recepTime" property="receptime" jdbcType="TIMESTAMP" />
    <result column="recepTimeSection" property="receptimesection" jdbcType="VARCHAR" />
    <result column="custScore" property="custscore" jdbcType="VARCHAR" />
    <result column="authorId" property="authorid" jdbcType="VARCHAR" />
    <result column="creatorId" property="creatorid" jdbcType="VARCHAR" />
    <result column="decisionerIn" property="decisionerin" jdbcType="INTEGER" />
    <result column="status" property="status" jdbcType="INTEGER" />
    <result column="cTime" property="ctime" jdbcType="TIMESTAMP" />
    <result column="lmTime" property="lmtime" jdbcType="TIMESTAMP" />
    <result column="ageGroup" property="agegroup" jdbcType="VARCHAR" />
    <result column="familyStatus" property="familystatus" jdbcType="VARCHAR" />
    <result column="trafficType" property="traffictype" jdbcType="VARCHAR" />
    <result column="buyQualify" property="buyqualify" jdbcType="VARCHAR" />
    <result column="workIndustry" property="workindustry" jdbcType="VARCHAR" />
    <result column="enterpriseType" property="enterprisetype" jdbcType="VARCHAR" />
    <result column="knowWay" property="knowway" jdbcType="VARCHAR" />
    <result column="estCustWorth" property="estcustworth" jdbcType="VARCHAR" />
    <result column="investType" property="investtype" jdbcType="VARCHAR" />
    <result column="capitalPrepSection" property="capitalprepsection" jdbcType="VARCHAR" />
    <result column="realtyProductType" property="realtyproducttype" jdbcType="VARCHAR" />
    <result column="attentAcreage" property="attentacreage" jdbcType="VARCHAR" />
    <result column="priceSection" property="pricesection" jdbcType="VARCHAR" />
    <result column="buyPurpose" property="buypurpose" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.hj.wxmp.mobile.entity.AccessRecord02" extends="BaseResultMap" >
    <result column="avocationsDesc" property="avocationsdesc" jdbcType="LONGVARCHAR" />
    <result column="resistPointDesc" property="resistpointdesc" jdbcType="LONGVARCHAR" />
    <result column="attentionPointDesc" property="attentionpointdesc" jdbcType="LONGVARCHAR" />
    <result column="loveActDesc" property="loveactdesc" jdbcType="LONGVARCHAR" />
    <result column="visitorRefsDesc" property="visitorrefsdesc" jdbcType="LONGVARCHAR" />
    <result column="descn" property="descn" jdbcType="LONGVARCHAR" />
    <result column="faultDescn" property="faultdescn" jdbcType="LONGVARCHAR" />
    <result column="trafficTypeDesc" property="traffictypedesc" jdbcType="LONGVARCHAR" />
    <result column="workIndustryDesc" property="workindustrydesc" jdbcType="LONGVARCHAR" />
    <result column="enterpriseTypeDesc" property="enterprisetypedesc" jdbcType="LONGVARCHAR" />
    <result column="knowWayDesc" property="knowwaydesc" jdbcType="LONGVARCHAR" />
    <result column="investTypeDesc" property="investtypedesc" jdbcType="LONGVARCHAR" />
    <result column="realtyProductTypeDesc" property="realtyproducttypedesc" jdbcType="LONGVARCHAR" />
    <result column="buyPurposeDesc" property="buypurposedesc" jdbcType="LONGVARCHAR" />
    <result column="houseTypeDesc" property="housetypedesc" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, projId, custId, custName, custPhoneNum, childrenNum, childAgeGroup, childAvocations, 
    childAvocationsDesc, schoolType, schoolName, livingRadius, communityName, houseType, 
    liveAcreage, enterpriseName, enterpriseAddress, enterprisePost, loanStatus, fulltimeWifeFlag, 
    outEduWill, nannyFlag, outExperFlag, outExperCity, childOutExperFlag, childOutExperCity, 
    petFlag, houseCount, carFamilyCount, carBrand, carTotalPrice, attentWX, appNames, 
    avocations, resistPoint, attentionPoint, loveActivation, freeTimeSection, visitorCount, 
    visitorRefs, recepTime, recepTimeSection, custScore, authorId, creatorId, decisionerIn, 
    status, cTime, lmTime, ageGroup, familyStatus, trafficType, buyQualify, workIndustry, 
    enterpriseType, knowWay, estCustWorth, investType, capitalPrepSection, realtyProductType, 
    attentAcreage, priceSection, buyPurpose
  </sql>
  <sql id="Blob_Column_List" >
    avocationsDesc, resistPointDesc, attentionPointDesc, loveActDesc, visitorRefsDesc, 
    descn, faultDescn, trafficTypeDesc, workIndustryDesc, enterpriseTypeDesc, knowWayDesc, 
    investTypeDesc, realtyProductTypeDesc, buyPurposeDesc,houseTypeDesc
  </sql>
  <select id="selectByPrimaryKey" resultType="com.hj.wxmp.mobile.entity.AccessRecord02" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from ql_AccessRecord02
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from ql_AccessRecord02
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.hj.wxmp.mobile.entity.AccessRecord02" >
    insert into ql_AccessRecord02 (id, projId, custId, 
      custName, custPhoneNum, childrenNum, 
      childAgeGroup, childAvocations, childAvocationsDesc, 
      schoolType, schoolName, livingRadius, 
      communityName, houseType, liveAcreage, 
      enterpriseName, enterpriseAddress, enterprisePost, 
      loanStatus, fulltimeWifeFlag, outEduWill, 
      nannyFlag, outExperFlag, outExperCity, 
      childOutExperFlag, childOutExperCity, petFlag, 
      houseCount, carFamilyCount, carBrand, 
      carTotalPrice, attentWX, appNames, 
      avocations, resistPoint, attentionPoint, 
      loveActivation, freeTimeSection, visitorCount, 
      visitorRefs, recepTime, recepTimeSection, 
      custScore, authorId, creatorId, 
      decisionerIn, status, cTime, 
      lmTime, ageGroup, familyStatus, 
      trafficType, buyQualify, workIndustry, 
      enterpriseType, knowWay, estCustWorth, 
      investType, capitalPrepSection, realtyProductType, 
      attentAcreage, priceSection, buyPurpose, 
      avocationsDesc, resistPointDesc, 
      attentionPointDesc, loveActDesc, 
      visitorRefsDesc, descn, faultDescn, 
      trafficTypeDesc, workIndustryDesc, 
      enterpriseTypeDesc, knowWayDesc, 
      investTypeDesc, realtyProductTypeDesc, 
      buyPurposeDesc)
    values (#{id,jdbcType=VARCHAR}, #{projid,jdbcType=VARCHAR}, #{custid,jdbcType=VARCHAR}, 
      #{custname,jdbcType=VARCHAR}, #{custphonenum,jdbcType=VARCHAR}, #{childrennum,jdbcType=INTEGER}, 
      #{childagegroup,jdbcType=VARCHAR}, #{childavocations,jdbcType=VARCHAR}, #{childavocationsdesc,jdbcType=VARCHAR}, 
      #{schooltype,jdbcType=VARCHAR}, #{schoolname,jdbcType=VARCHAR}, #{livingradius,jdbcType=VARCHAR}, 
      #{communityname,jdbcType=VARCHAR}, #{housetype,jdbcType=VARCHAR}, #{liveacreage,jdbcType=VARCHAR}, 
      #{enterprisename,jdbcType=VARCHAR}, #{enterpriseaddress,jdbcType=VARCHAR}, #{enterprisepost,jdbcType=VARCHAR}, 
      #{loanstatus,jdbcType=VARCHAR}, #{fulltimewifeflag,jdbcType=INTEGER}, #{outeduwill,jdbcType=INTEGER}, 
      #{nannyflag,jdbcType=INTEGER}, #{outexperflag,jdbcType=INTEGER}, #{outexpercity,jdbcType=VARCHAR}, 
      #{childoutexperflag,jdbcType=INTEGER}, #{childoutexpercity,jdbcType=VARCHAR}, #{petflag,jdbcType=INTEGER}, 
      #{housecount,jdbcType=INTEGER}, #{carfamilycount,jdbcType=INTEGER}, #{carbrand,jdbcType=VARCHAR}, 
      #{cartotalprice,jdbcType=VARCHAR}, #{attentwx,jdbcType=VARCHAR}, #{appnames,jdbcType=VARCHAR}, 
      #{avocations,jdbcType=VARCHAR}, #{resistpoint,jdbcType=VARCHAR}, #{attentionpoint,jdbcType=VARCHAR}, 
      #{loveactivation,jdbcType=VARCHAR}, #{freetimesection,jdbcType=VARCHAR}, #{visitorcount,jdbcType=INTEGER}, 
      #{visitorrefs,jdbcType=VARCHAR}, #{receptime,jdbcType=TIMESTAMP}, #{receptimesection,jdbcType=VARCHAR}, 
      #{custscore,jdbcType=VARCHAR}, #{authorid,jdbcType=VARCHAR}, #{creatorid,jdbcType=VARCHAR}, 
      #{decisionerin,jdbcType=INTEGER}, #{status,jdbcType=INTEGER}, #{ctime,jdbcType=TIMESTAMP}, 
      #{lmtime,jdbcType=TIMESTAMP}, #{agegroup,jdbcType=VARCHAR}, #{familystatus,jdbcType=VARCHAR}, 
      #{traffictype,jdbcType=VARCHAR}, #{buyqualify,jdbcType=VARCHAR}, #{workindustry,jdbcType=VARCHAR}, 
      #{enterprisetype,jdbcType=VARCHAR}, #{knowway,jdbcType=VARCHAR}, #{estcustworth,jdbcType=VARCHAR}, 
      #{investtype,jdbcType=VARCHAR}, #{capitalprepsection,jdbcType=VARCHAR}, #{realtyproducttype,jdbcType=VARCHAR}, 
      #{attentacreage,jdbcType=VARCHAR}, #{pricesection,jdbcType=VARCHAR}, #{buypurpose,jdbcType=VARCHAR}, 
      #{avocationsdesc,jdbcType=LONGVARCHAR}, #{resistpointdesc,jdbcType=LONGVARCHAR}, 
      #{attentionpointdesc,jdbcType=LONGVARCHAR}, #{loveactdesc,jdbcType=LONGVARCHAR}, 
      #{visitorrefsdesc,jdbcType=LONGVARCHAR}, #{descn,jdbcType=LONGVARCHAR}, #{faultdescn,jdbcType=LONGVARCHAR}, 
      #{traffictypedesc,jdbcType=LONGVARCHAR}, #{workindustrydesc,jdbcType=LONGVARCHAR}, 
      #{enterprisetypedesc,jdbcType=LONGVARCHAR}, #{knowwaydesc,jdbcType=LONGVARCHAR}, 
      #{investtypedesc,jdbcType=LONGVARCHAR}, #{realtyproducttypedesc,jdbcType=LONGVARCHAR}, 
      #{buypurposedesc,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.hj.wxmp.mobile.entity.AccessRecord02" >
    insert into ql_AccessRecord02
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="projid != null" >
        projId,
      </if>
      <if test="custid != null" >
        custId,
      </if>
      <if test="custname != null" >
        custName,
      </if>
      <if test="custphonenum != null" >
        custPhoneNum,
      </if>
      <if test="childrennum != null" >
        childrenNum,
      </if>
      <if test="childagegroup != null" >
        childAgeGroup,
      </if>
      <if test="childavocations != null" >
        childAvocations,
      </if>
      <if test="childavocationsdesc != null" >
        childAvocationsDesc,
      </if>
      <if test="schooltype != null" >
        schoolType,
      </if>
      <if test="schoolname != null" >
        schoolName,
      </if>
      <if test="livingradius != null" >
        livingRadius,
      </if>
      <if test="communityname != null" >
        communityName,
      </if>
      <if test="housetype != null" >
        houseType,
      </if>
      <if test="liveacreage != null" >
        liveAcreage,
      </if>
      <if test="enterprisename != null" >
        enterpriseName,
      </if>
      <if test="enterpriseaddress != null" >
        enterpriseAddress,
      </if>
      <if test="enterprisepost != null" >
        enterprisePost,
      </if>
      <if test="loanstatus != null" >
        loanStatus,
      </if>
      <if test="fulltimewifeflag != null" >
        fulltimeWifeFlag,
      </if>
      <if test="outeduwill != null" >
        outEduWill,
      </if>
      <if test="nannyflag != null" >
        nannyFlag,
      </if>
      <if test="outexperflag != null" >
        outExperFlag,
      </if>
      <if test="outexpercity != null" >
        outExperCity,
      </if>
      <if test="childoutexperflag != null" >
        childOutExperFlag,
      </if>
      <if test="childoutexpercity != null" >
        childOutExperCity,
      </if>
      <if test="petflag != null" >
        petFlag,
      </if>
      <if test="housecount != null" >
        houseCount,
      </if>
      <if test="carfamilycount != null" >
        carFamilyCount,
      </if>
      <if test="carbrand != null" >
        carBrand,
      </if>
      <if test="cartotalprice != null" >
        carTotalPrice,
      </if>
      <if test="attentwx != null" >
        attentWX,
      </if>
      <if test="appnames != null" >
        appNames,
      </if>
      <if test="avocations != null" >
        avocations,
      </if>
      <if test="resistpoint != null" >
        resistPoint,
      </if>
      <if test="attentionpoint != null" >
        attentionPoint,
      </if>
      <if test="loveactivation != null" >
        loveActivation,
      </if>
      <if test="freetimesection != null" >
        freeTimeSection,
      </if>
      <if test="visitorcount != null" >
        visitorCount,
      </if>
      <if test="visitorrefs != null" >
        visitorRefs,
      </if>
      <if test="receptime != null" >
        recepTime,
      </if>
      <if test="receptimesection != null" >
        recepTimeSection,
      </if>
      <if test="custscore != null" >
        custScore,
      </if>
      <if test="authorid != null" >
        authorId,
      </if>
      <if test="creatorid != null" >
        creatorId,
      </if>
      <if test="decisionerin != null" >
        decisionerIn,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="ctime != null" >
        cTime,
      </if>
      <if test="lmtime != null" >
        lmTime,
      </if>
      <if test="agegroup != null" >
        ageGroup,
      </if>
      <if test="familystatus != null" >
        familyStatus,
      </if>
      <if test="traffictype != null" >
        trafficType,
      </if>
      <if test="buyqualify != null" >
        buyQualify,
      </if>
      <if test="workindustry != null" >
        workIndustry,
      </if>
      <if test="enterprisetype != null" >
        enterpriseType,
      </if>
      <if test="knowway != null" >
        knowWay,
      </if>
      <if test="estcustworth != null" >
        estCustWorth,
      </if>
      <if test="investtype != null" >
        investType,
      </if>
      <if test="capitalprepsection != null" >
        capitalPrepSection,
      </if>
      <if test="realtyproducttype != null" >
        realtyProductType,
      </if>
      <if test="attentacreage != null" >
        attentAcreage,
      </if>
      <if test="pricesection != null" >
        priceSection,
      </if>
      <if test="buypurpose != null" >
        buyPurpose,
      </if>
      <if test="avocationsdesc != null" >
        avocationsDesc,
      </if>
      <if test="resistpointdesc != null" >
        resistPointDesc,
      </if>
      <if test="attentionpointdesc != null" >
        attentionPointDesc,
      </if>
      <if test="loveactdesc != null" >
        loveActDesc,
      </if>
      <if test="visitorrefsdesc != null" >
        visitorRefsDesc,
      </if>
      <if test="descn != null" >
        descn,
      </if>
      <if test="faultdescn != null" >
        faultDescn,
      </if>
      <if test="traffictypedesc != null" >
        trafficTypeDesc,
      </if>
      <if test="workindustrydesc != null" >
        workIndustryDesc,
      </if>
      <if test="enterprisetypedesc != null" >
        enterpriseTypeDesc,
      </if>
      <if test="knowwaydesc != null" >
        knowWayDesc,
      </if>
      <if test="investtypedesc != null" >
        investTypeDesc,
      </if>
      <if test="realtyproducttypedesc != null" >
        realtyProductTypeDesc,
      </if>
      <if test="buypurposedesc != null" >
        buyPurposeDesc,
      </if>
      <if test="housetypedesc != null" >
        houseTypeDesc,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="projid != null" >
        #{projid,jdbcType=VARCHAR},
      </if>
      <if test="custid != null" >
        #{custid,jdbcType=VARCHAR},
      </if>
      <if test="custname != null" >
        #{custname,jdbcType=VARCHAR},
      </if>
      <if test="custphonenum != null" >
        #{custphonenum,jdbcType=VARCHAR},
      </if>
      <if test="childrennum != null" >
        #{childrennum,jdbcType=INTEGER},
      </if>
      <if test="childagegroup != null" >
        #{childagegroup,jdbcType=VARCHAR},
      </if>
      <if test="childavocations != null" >
        #{childavocations,jdbcType=VARCHAR},
      </if>
      <if test="childavocationsdesc != null" >
        #{childavocationsdesc,jdbcType=VARCHAR},
      </if>
      <if test="schooltype != null" >
        #{schooltype,jdbcType=VARCHAR},
      </if>
      <if test="schoolname != null" >
        #{schoolname,jdbcType=VARCHAR},
      </if>
      <if test="livingradius != null" >
        #{livingradius,jdbcType=VARCHAR},
      </if>
      <if test="communityname != null" >
        #{communityname,jdbcType=VARCHAR},
      </if>
      <if test="housetype != null" >
        #{housetype,jdbcType=VARCHAR},
      </if>
      <if test="liveacreage != null" >
        #{liveacreage,jdbcType=VARCHAR},
      </if>
      <if test="enterprisename != null" >
        #{enterprisename,jdbcType=VARCHAR},
      </if>
      <if test="enterpriseaddress != null" >
        #{enterpriseaddress,jdbcType=VARCHAR},
      </if>
      <if test="enterprisepost != null" >
        #{enterprisepost,jdbcType=VARCHAR},
      </if>
      <if test="loanstatus != null" >
        #{loanstatus,jdbcType=VARCHAR},
      </if>
      <if test="fulltimewifeflag != null" >
        #{fulltimewifeflag,jdbcType=INTEGER},
      </if>
      <if test="outeduwill != null" >
        #{outeduwill,jdbcType=INTEGER},
      </if>
      <if test="nannyflag != null" >
        #{nannyflag,jdbcType=INTEGER},
      </if>
      <if test="outexperflag != null" >
        #{outexperflag,jdbcType=INTEGER},
      </if>
      <if test="outexpercity != null" >
        #{outexpercity,jdbcType=VARCHAR},
      </if>
      <if test="childoutexperflag != null" >
        #{childoutexperflag,jdbcType=INTEGER},
      </if>
      <if test="childoutexpercity != null" >
        #{childoutexpercity,jdbcType=VARCHAR},
      </if>
      <if test="petflag != null" >
        #{petflag,jdbcType=INTEGER},
      </if>
      <if test="housecount != null" >
        #{housecount,jdbcType=INTEGER},
      </if>
      <if test="carfamilycount != null" >
        #{carfamilycount,jdbcType=INTEGER},
      </if>
      <if test="carbrand != null" >
        #{carbrand,jdbcType=VARCHAR},
      </if>
      <if test="cartotalprice != null" >
        #{cartotalprice,jdbcType=VARCHAR},
      </if>
      <if test="attentwx != null" >
        #{attentwx,jdbcType=VARCHAR},
      </if>
      <if test="appnames != null" >
        #{appnames,jdbcType=VARCHAR},
      </if>
      <if test="avocations != null" >
        #{avocations,jdbcType=VARCHAR},
      </if>
      <if test="resistpoint != null" >
        #{resistpoint,jdbcType=VARCHAR},
      </if>
      <if test="attentionpoint != null" >
        #{attentionpoint,jdbcType=VARCHAR},
      </if>
      <if test="loveactivation != null" >
        #{loveactivation,jdbcType=VARCHAR},
      </if>
      <if test="freetimesection != null" >
        #{freetimesection,jdbcType=VARCHAR},
      </if>
      <if test="visitorcount != null" >
        #{visitorcount,jdbcType=INTEGER},
      </if>
      <if test="visitorrefs != null" >
        #{visitorrefs,jdbcType=VARCHAR},
      </if>
      <if test="receptime != null" >
        #{receptime,jdbcType=TIMESTAMP},
      </if>
      <if test="receptimesection != null" >
        #{receptimesection,jdbcType=VARCHAR},
      </if>
      <if test="custscore != null" >
        #{custscore,jdbcType=VARCHAR},
      </if>
      <if test="authorid != null" >
        #{authorid,jdbcType=VARCHAR},
      </if>
      <if test="creatorid != null" >
        #{creatorid,jdbcType=VARCHAR},
      </if>
      <if test="decisionerin != null" >
        #{decisionerin,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="ctime != null" >
        #{ctime,jdbcType=TIMESTAMP},
      </if>
      <if test="lmtime != null" >
        #{lmtime,jdbcType=TIMESTAMP},
      </if>
      <if test="agegroup != null" >
        #{agegroup,jdbcType=VARCHAR},
      </if>
      <if test="familystatus != null" >
        #{familystatus,jdbcType=VARCHAR},
      </if>
      <if test="traffictype != null" >
        #{traffictype,jdbcType=VARCHAR},
      </if>
      <if test="buyqualify != null" >
        #{buyqualify,jdbcType=VARCHAR},
      </if>
      <if test="workindustry != null" >
        #{workindustry,jdbcType=VARCHAR},
      </if>
      <if test="enterprisetype != null" >
        #{enterprisetype,jdbcType=VARCHAR},
      </if>
      <if test="knowway != null" >
        #{knowway,jdbcType=VARCHAR},
      </if>
      <if test="estcustworth != null" >
        #{estcustworth,jdbcType=VARCHAR},
      </if>
      <if test="investtype != null" >
        #{investtype,jdbcType=VARCHAR},
      </if>
      <if test="capitalprepsection != null" >
        #{capitalprepsection,jdbcType=VARCHAR},
      </if>
      <if test="realtyproducttype != null" >
        #{realtyproducttype,jdbcType=VARCHAR},
      </if>
      <if test="attentacreage != null" >
        #{attentacreage,jdbcType=VARCHAR},
      </if>
      <if test="pricesection != null" >
        #{pricesection,jdbcType=VARCHAR},
      </if>
      <if test="buypurpose != null" >
        #{buypurpose,jdbcType=VARCHAR},
      </if>
      <if test="avocationsdesc != null" >
        #{avocationsdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="resistpointdesc != null" >
        #{resistpointdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="attentionpointdesc != null" >
        #{attentionpointdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="loveactdesc != null" >
        #{loveactdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="visitorrefsdesc != null" >
        #{visitorrefsdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="descn != null" >
        #{descn,jdbcType=LONGVARCHAR},
      </if>
      <if test="faultdescn != null" >
        #{faultdescn,jdbcType=LONGVARCHAR},
      </if>
      <if test="traffictypedesc != null" >
        #{traffictypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="workindustrydesc != null" >
        #{workindustrydesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="enterprisetypedesc != null" >
        #{enterprisetypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="knowwaydesc != null" >
        #{knowwaydesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="investtypedesc != null" >
        #{investtypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="realtyproducttypedesc != null" >
        #{realtyproducttypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="buypurposedesc != null" >
        #{buypurposedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="housetypedesc != null" >
        #{housetypedesc,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hj.wxmp.mobile.entity.AccessRecord02" >
    update ql_AccessRecord02
    <set >
      <if test="projid != null" >
        projId = #{projid,jdbcType=VARCHAR},
      </if>
      <if test="custid != null" >
        custId = #{custid,jdbcType=VARCHAR},
      </if>
      <if test="custname != null" >
        custName = #{custname,jdbcType=VARCHAR},
      </if>
      <if test="custphonenum != null" >
        custPhoneNum = #{custphonenum,jdbcType=VARCHAR},
      </if>
      <if test="childrennum != null" >
        childrenNum = #{childrennum,jdbcType=INTEGER},
      </if>
      <if test="childagegroup != null" >
        childAgeGroup = #{childagegroup,jdbcType=VARCHAR},
      </if>
      <if test="childavocations != null" >
        childAvocations = #{childavocations,jdbcType=VARCHAR},
      </if>
      <if test="childavocationsdesc != null" >
        childAvocationsDesc = #{childavocationsdesc,jdbcType=VARCHAR},
      </if>
      <if test="schooltype != null" >
        schoolType = #{schooltype,jdbcType=VARCHAR},
      </if>
      <if test="schoolname != null" >
        schoolName = #{schoolname,jdbcType=VARCHAR},
      </if>
      <if test="livingradius != null" >
        livingRadius = #{livingradius,jdbcType=VARCHAR},
      </if>
      <if test="communityname != null" >
        communityName = #{communityname,jdbcType=VARCHAR},
      </if>
      <if test="housetype != null" >
        houseType = #{housetype,jdbcType=VARCHAR},
      </if>
      <if test="liveacreage != null" >
        liveAcreage = #{liveacreage,jdbcType=VARCHAR},
      </if>
      <if test="enterprisename != null" >
        enterpriseName = #{enterprisename,jdbcType=VARCHAR},
      </if>
      <if test="enterpriseaddress != null" >
        enterpriseAddress = #{enterpriseaddress,jdbcType=VARCHAR},
      </if>
      <if test="enterprisepost != null" >
        enterprisePost = #{enterprisepost,jdbcType=VARCHAR},
      </if>
      <if test="loanstatus != null" >
        loanStatus = #{loanstatus,jdbcType=VARCHAR},
      </if>
      <if test="fulltimewifeflag != null" >
        fulltimeWifeFlag = #{fulltimewifeflag,jdbcType=INTEGER},
      </if>
      <if test="outeduwill != null" >
        outEduWill = #{outeduwill,jdbcType=INTEGER},
      </if>
      <if test="nannyflag != null" >
        nannyFlag = #{nannyflag,jdbcType=INTEGER},
      </if>
      <if test="outexperflag != null" >
        outExperFlag = #{outexperflag,jdbcType=INTEGER},
      </if>
      <if test="outexpercity != null" >
        outExperCity = #{outexpercity,jdbcType=VARCHAR},
      </if>
      <if test="childoutexperflag != null" >
        childOutExperFlag = #{childoutexperflag,jdbcType=INTEGER},
      </if>
      <if test="childoutexpercity != null" >
        childOutExperCity = #{childoutexpercity,jdbcType=VARCHAR},
      </if>
      <if test="petflag != null" >
        petFlag = #{petflag,jdbcType=INTEGER},
      </if>
      <if test="housecount != null" >
        houseCount = #{housecount,jdbcType=INTEGER},
      </if>
      <if test="carfamilycount != null" >
        carFamilyCount = #{carfamilycount,jdbcType=INTEGER},
      </if>
      <if test="carbrand != null" >
        carBrand = #{carbrand,jdbcType=VARCHAR},
      </if>
      <if test="cartotalprice != null" >
        carTotalPrice = #{cartotalprice,jdbcType=VARCHAR},
      </if>
      <if test="attentwx != null" >
        attentWX = #{attentwx,jdbcType=VARCHAR},
      </if>
      <if test="appnames != null" >
        appNames = #{appnames,jdbcType=VARCHAR},
      </if>
      <if test="avocations != null" >
        avocations = #{avocations,jdbcType=VARCHAR},
      </if>
      <if test="resistpoint != null" >
        resistPoint = #{resistpoint,jdbcType=VARCHAR},
      </if>
      <if test="attentionpoint != null" >
        attentionPoint = #{attentionpoint,jdbcType=VARCHAR},
      </if>
      <if test="loveactivation != null" >
        loveActivation = #{loveactivation,jdbcType=VARCHAR},
      </if>
      <if test="freetimesection != null" >
        freeTimeSection = #{freetimesection,jdbcType=VARCHAR},
      </if>
      <if test="visitorcount != null" >
        visitorCount = #{visitorcount,jdbcType=INTEGER},
      </if>
      <if test="visitorrefs != null" >
        visitorRefs = #{visitorrefs,jdbcType=VARCHAR},
      </if>
      <if test="receptime != null" >
        recepTime = #{receptime,jdbcType=TIMESTAMP},
      </if>
      <if test="receptimesection != null" >
        recepTimeSection = #{receptimesection,jdbcType=VARCHAR},
      </if>
      <if test="custscore != null" >
        custScore = #{custscore,jdbcType=VARCHAR},
      </if>
      <if test="authorid != null" >
        authorId = #{authorid,jdbcType=VARCHAR},
      </if>
      <if test="creatorid != null" >
        creatorId = #{creatorid,jdbcType=VARCHAR},
      </if>
      <if test="decisionerin != null" >
        decisionerIn = #{decisionerin,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="ctime != null" >
        cTime = #{ctime,jdbcType=TIMESTAMP},
      </if>
      <if test="lmtime != null" >
        lmTime = #{lmtime,jdbcType=TIMESTAMP},
      </if>
      <if test="agegroup != null" >
        ageGroup = #{agegroup,jdbcType=VARCHAR},
      </if>
      <if test="familystatus != null" >
        familyStatus = #{familystatus,jdbcType=VARCHAR},
      </if>
      <if test="traffictype != null" >
        trafficType = #{traffictype,jdbcType=VARCHAR},
      </if>
      <if test="buyqualify != null" >
        buyQualify = #{buyqualify,jdbcType=VARCHAR},
      </if>
      <if test="workindustry != null" >
        workIndustry = #{workindustry,jdbcType=VARCHAR},
      </if>
      <if test="enterprisetype != null" >
        enterpriseType = #{enterprisetype,jdbcType=VARCHAR},
      </if>
      <if test="knowway != null" >
        knowWay = #{knowway,jdbcType=VARCHAR},
      </if>
      <if test="estcustworth != null" >
        estCustWorth = #{estcustworth,jdbcType=VARCHAR},
      </if>
      <if test="investtype != null" >
        investType = #{investtype,jdbcType=VARCHAR},
      </if>
      <if test="capitalprepsection != null" >
        capitalPrepSection = #{capitalprepsection,jdbcType=VARCHAR},
      </if>
      <if test="realtyproducttype != null" >
        realtyProductType = #{realtyproducttype,jdbcType=VARCHAR},
      </if>
      <if test="attentacreage != null" >
        attentAcreage = #{attentacreage,jdbcType=VARCHAR},
      </if>
      <if test="pricesection != null" >
        priceSection = #{pricesection,jdbcType=VARCHAR},
      </if>
      <if test="buypurpose != null" >
        buyPurpose = #{buypurpose,jdbcType=VARCHAR},
      </if>
      <if test="avocationsdesc != null" >
        avocationsDesc = #{avocationsdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="resistpointdesc != null" >
        resistPointDesc = #{resistpointdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="attentionpointdesc != null" >
        attentionPointDesc = #{attentionpointdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="loveactdesc != null" >
        loveActDesc = #{loveactdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="visitorrefsdesc != null" >
        visitorRefsDesc = #{visitorrefsdesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="descn != null" >
        descn = #{descn,jdbcType=LONGVARCHAR},
      </if>
      <if test="faultdescn != null" >
        faultDescn = #{faultdescn,jdbcType=LONGVARCHAR},
      </if>
      <if test="traffictypedesc != null" >
        trafficTypeDesc = #{traffictypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="workindustrydesc != null" >
        workIndustryDesc = #{workindustrydesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="enterprisetypedesc != null" >
        enterpriseTypeDesc = #{enterprisetypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="knowwaydesc != null" >
        knowWayDesc = #{knowwaydesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="investtypedesc != null" >
        investTypeDesc = #{investtypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="realtyproducttypedesc != null" >
        realtyProductTypeDesc = #{realtyproducttypedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="buypurposedesc != null" >
        buyPurposeDesc = #{buypurposedesc,jdbcType=LONGVARCHAR},
      </if>
      <if test="housetypedesc != null" >
        houseTypeDesc = #{housetypedesc,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.hj.wxmp.mobile.entity.AccessRecord02" >
    update ql_AccessRecord02
    set projId = #{projid,jdbcType=VARCHAR},
      custId = #{custid,jdbcType=VARCHAR},
      custName = #{custname,jdbcType=VARCHAR},
      custPhoneNum = #{custphonenum,jdbcType=VARCHAR},
      childrenNum = #{childrennum,jdbcType=INTEGER},
      childAgeGroup = #{childagegroup,jdbcType=VARCHAR},
      childAvocations = #{childavocations,jdbcType=VARCHAR},
      childAvocationsDesc = #{childavocationsdesc,jdbcType=VARCHAR},
      schoolType = #{schooltype,jdbcType=VARCHAR},
      schoolName = #{schoolname,jdbcType=VARCHAR},
      livingRadius = #{livingradius,jdbcType=VARCHAR},
      communityName = #{communityname,jdbcType=VARCHAR},
      houseType = #{housetype,jdbcType=VARCHAR},
      liveAcreage = #{liveacreage,jdbcType=VARCHAR},
      enterpriseName = #{enterprisename,jdbcType=VARCHAR},
      enterpriseAddress = #{enterpriseaddress,jdbcType=VARCHAR},
      enterprisePost = #{enterprisepost,jdbcType=VARCHAR},
      loanStatus = #{loanstatus,jdbcType=VARCHAR},
      fulltimeWifeFlag = #{fulltimewifeflag,jdbcType=INTEGER},
      outEduWill = #{outeduwill,jdbcType=INTEGER},
      nannyFlag = #{nannyflag,jdbcType=INTEGER},
      outExperFlag = #{outexperflag,jdbcType=INTEGER},
      outExperCity = #{outexpercity,jdbcType=VARCHAR},
      childOutExperFlag = #{childoutexperflag,jdbcType=INTEGER},
      childOutExperCity = #{childoutexpercity,jdbcType=VARCHAR},
      petFlag = #{petflag,jdbcType=INTEGER},
      houseCount = #{housecount,jdbcType=INTEGER},
      carFamilyCount = #{carfamilycount,jdbcType=INTEGER},
      carBrand = #{carbrand,jdbcType=VARCHAR},
      carTotalPrice = #{cartotalprice,jdbcType=VARCHAR},
      attentWX = #{attentwx,jdbcType=VARCHAR},
      appNames = #{appnames,jdbcType=VARCHAR},
      avocations = #{avocations,jdbcType=VARCHAR},
      resistPoint = #{resistpoint,jdbcType=VARCHAR},
      attentionPoint = #{attentionpoint,jdbcType=VARCHAR},
      loveActivation = #{loveactivation,jdbcType=VARCHAR},
      freeTimeSection = #{freetimesection,jdbcType=VARCHAR},
      visitorCount = #{visitorcount,jdbcType=INTEGER},
      visitorRefs = #{visitorrefs,jdbcType=VARCHAR},
      recepTime = #{receptime,jdbcType=TIMESTAMP},
      recepTimeSection = #{receptimesection,jdbcType=VARCHAR},
      custScore = #{custscore,jdbcType=VARCHAR},
      authorId = #{authorid,jdbcType=VARCHAR},
      creatorId = #{creatorid,jdbcType=VARCHAR},
      decisionerIn = #{decisionerin,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER},
      cTime = #{ctime,jdbcType=TIMESTAMP},
      lmTime = #{lmtime,jdbcType=TIMESTAMP},
      ageGroup = #{agegroup,jdbcType=VARCHAR},
      familyStatus = #{familystatus,jdbcType=VARCHAR},
      trafficType = #{traffictype,jdbcType=VARCHAR},
      buyQualify = #{buyqualify,jdbcType=VARCHAR},
      workIndustry = #{workindustry,jdbcType=VARCHAR},
      enterpriseType = #{enterprisetype,jdbcType=VARCHAR},
      knowWay = #{knowway,jdbcType=VARCHAR},
      estCustWorth = #{estcustworth,jdbcType=VARCHAR},
      investType = #{investtype,jdbcType=VARCHAR},
      capitalPrepSection = #{capitalprepsection,jdbcType=VARCHAR},
      realtyProductType = #{realtyproducttype,jdbcType=VARCHAR},
      attentAcreage = #{attentacreage,jdbcType=VARCHAR},
      priceSection = #{pricesection,jdbcType=VARCHAR},
      buyPurpose = #{buypurpose,jdbcType=VARCHAR},
      avocationsDesc = #{avocationsdesc,jdbcType=LONGVARCHAR},
      resistPointDesc = #{resistpointdesc,jdbcType=LONGVARCHAR},
      attentionPointDesc = #{attentionpointdesc,jdbcType=LONGVARCHAR},
      loveActDesc = #{loveactdesc,jdbcType=LONGVARCHAR},
      visitorRefsDesc = #{visitorrefsdesc,jdbcType=LONGVARCHAR},
      descn = #{descn,jdbcType=LONGVARCHAR},
      faultDescn = #{faultdescn,jdbcType=LONGVARCHAR},
      trafficTypeDesc = #{traffictypedesc,jdbcType=LONGVARCHAR},
      workIndustryDesc = #{workindustrydesc,jdbcType=LONGVARCHAR},
      enterpriseTypeDesc = #{enterprisetypedesc,jdbcType=LONGVARCHAR},
      knowWayDesc = #{knowwaydesc,jdbcType=LONGVARCHAR},
      investTypeDesc = #{investtypedesc,jdbcType=LONGVARCHAR},
      realtyProductTypeDesc = #{realtyproducttypedesc,jdbcType=LONGVARCHAR},
      buyPurposeDesc = #{buypurposedesc,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.hj.wxmp.mobile.entity.AccessRecord02" >
    update ql_AccessRecord02
    set projId = #{projid,jdbcType=VARCHAR},
      custId = #{custid,jdbcType=VARCHAR},
      custName = #{custname,jdbcType=VARCHAR},
      custPhoneNum = #{custphonenum,jdbcType=VARCHAR},
      childrenNum = #{childrennum,jdbcType=INTEGER},
      childAgeGroup = #{childagegroup,jdbcType=VARCHAR},
      childAvocations = #{childavocations,jdbcType=VARCHAR},
      childAvocationsDesc = #{childavocationsdesc,jdbcType=VARCHAR},
      schoolType = #{schooltype,jdbcType=VARCHAR},
      schoolName = #{schoolname,jdbcType=VARCHAR},
      livingRadius = #{livingradius,jdbcType=VARCHAR},
      communityName = #{communityname,jdbcType=VARCHAR},
      houseType = #{housetype,jdbcType=VARCHAR},
      liveAcreage = #{liveacreage,jdbcType=VARCHAR},
      enterpriseName = #{enterprisename,jdbcType=VARCHAR},
      enterpriseAddress = #{enterpriseaddress,jdbcType=VARCHAR},
      enterprisePost = #{enterprisepost,jdbcType=VARCHAR},
      loanStatus = #{loanstatus,jdbcType=VARCHAR},
      fulltimeWifeFlag = #{fulltimewifeflag,jdbcType=INTEGER},
      outEduWill = #{outeduwill,jdbcType=INTEGER},
      nannyFlag = #{nannyflag,jdbcType=INTEGER},
      outExperFlag = #{outexperflag,jdbcType=INTEGER},
      outExperCity = #{outexpercity,jdbcType=VARCHAR},
      childOutExperFlag = #{childoutexperflag,jdbcType=INTEGER},
      childOutExperCity = #{childoutexpercity,jdbcType=VARCHAR},
      petFlag = #{petflag,jdbcType=INTEGER},
      houseCount = #{housecount,jdbcType=INTEGER},
      carFamilyCount = #{carfamilycount,jdbcType=INTEGER},
      carBrand = #{carbrand,jdbcType=VARCHAR},
      carTotalPrice = #{cartotalprice,jdbcType=VARCHAR},
      attentWX = #{attentwx,jdbcType=VARCHAR},
      appNames = #{appnames,jdbcType=VARCHAR},
      avocations = #{avocations,jdbcType=VARCHAR},
      resistPoint = #{resistpoint,jdbcType=VARCHAR},
      attentionPoint = #{attentionpoint,jdbcType=VARCHAR},
      loveActivation = #{loveactivation,jdbcType=VARCHAR},
      freeTimeSection = #{freetimesection,jdbcType=VARCHAR},
      visitorCount = #{visitorcount,jdbcType=INTEGER},
      visitorRefs = #{visitorrefs,jdbcType=VARCHAR},
      recepTime = #{receptime,jdbcType=TIMESTAMP},
      recepTimeSection = #{receptimesection,jdbcType=VARCHAR},
      custScore = #{custscore,jdbcType=VARCHAR},
      authorId = #{authorid,jdbcType=VARCHAR},
      creatorId = #{creatorid,jdbcType=VARCHAR},
      decisionerIn = #{decisionerin,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER},
      cTime = #{ctime,jdbcType=TIMESTAMP},
      lmTime = #{lmtime,jdbcType=TIMESTAMP},
      ageGroup = #{agegroup,jdbcType=VARCHAR},
      familyStatus = #{familystatus,jdbcType=VARCHAR},
      trafficType = #{traffictype,jdbcType=VARCHAR},
      buyQualify = #{buyqualify,jdbcType=VARCHAR},
      workIndustry = #{workindustry,jdbcType=VARCHAR},
      enterpriseType = #{enterprisetype,jdbcType=VARCHAR},
      knowWay = #{knowway,jdbcType=VARCHAR},
      estCustWorth = #{estcustworth,jdbcType=VARCHAR},
      investType = #{investtype,jdbcType=VARCHAR},
      capitalPrepSection = #{capitalprepsection,jdbcType=VARCHAR},
      realtyProductType = #{realtyproducttype,jdbcType=VARCHAR},
      attentAcreage = #{attentacreage,jdbcType=VARCHAR},
      priceSection = #{pricesection,jdbcType=VARCHAR},
      buyPurpose = #{buypurpose,jdbcType=VARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  
  
  <!-- 所有复访访问记录 -->
  <select id="selectMessage" resultType="java.util.Map" parameterType="java.util.Map">
	SELECT
		ql2.*, qlp.projName,
		plu.realName
	FROM
		ql_AccessRecord02 ql2
	JOIN ql_Project qlp ON ql2.projId = qlp.id
	JOIN plat_User plu ON ql2.authorId = plu.id
	WHERE 1=1 
	<if test="state != -1 and state != null">
		and ql2.status = #{state}
	</if>
	and instr(ql2.custName , #{userName})
	limit #{page},#{pageSize}
  </select>
  
  
  <!-- 删除多条 -->
  <delete id="dels" parameterType="java.lang.String" >
    delete from ql_AccessRecord02
    where INSTR(#{boxeditId},id)
  </delete>
  
  <select id="getRecord02List" resultType="java.util.Map" parameterType="java.util.Map">
  	select * from ql_AccessRecord02 where authorId=#{userId} order by status desc,cTime desc limit #{page},#{pageSize}
  </select>
  
  <select id="findByCustIdCount" resultType="java.lang.Integer" parameterType="java.util.Map">
  	SELECT count(1) from ql_AccessRecord02 where custId = #{custId} and status = 2 and projId = #{projId}
  </select>
  
  
  <select id="selectByUserId" resultType="com.hj.wxmp.mobile.entity.AccessRecord02" parameterType="java.util.Map">
  	SELECT * from ql_AccessRecord02 where custId = #{custId} and projId = #{projId}
  </select>
  
  
  <select id="selectMessageCount" resultType="java.lang.Integer" parameterType="java.util.Map">
	SELECT
		count(1)
	FROM
		ql_AccessRecord02 ql2
	JOIN ql_Project qlp ON ql2.projId = qlp.id
	JOIN plat_User plu ON ql2.authorId = plu.id
	WHERE 1=1 
	<if test="state != -1 and state != null">
		and ql2.status = #{state}
	</if>
	and instr(ql2.custName , #{userName})
  </select>
  
<!-- 顾问 -->
  <select id="getRecord02ListGuWen" resultType="java.util.Map" parameterType="java.util.Map">
	select r01.*, 
	  case r01.status when 2 then 1 else 0 end c01,
	  case when r01.count02 is null then 0 else r01.count02 end c02,
	  case when r01.count03 is null then 0 else r01.count03 end c03,
	  case when r01.count03 is null then 0 else 1 end isKnockdown,
		(case r01.status when 2 then 1 else 0 end)+(case when r01.count02 is null then 0 else r01.count02 end)+(case when r01.count03 is null then 0 else r01.count03 end) total 
	from (
		select a.id, a.realName authorName, a.custName, a.custPhoneNum, a.status, a.recepTime, a.custSex, b.count02, c.count03 from (
	    select m.*, n.realName,c.custSex from ql_AccessRecord02 m, plat_User n,ql_Customer c
	  	where (m.status = 2 or m.status = 4 or m.status = 1) and m.authorId=n.id and authorId=#{userId} and m.custId = c.id
		<if test="searchSql!=null"> and (${searchSql})</if>
		) a 
		left join (select projId,custId, count(*) count02 from ql_AccessRecord02 where status=2 and INSTR(#{projId},projId) group by custId, projId) b on b.custId=a.custId and b.projId=a.projId
		left join (select projId,custId, count(*) count03 from ql_AccessRecord03 where status=2 and INSTR(#{projId},projId) group by custId, projId) c on c.custId=a.custId and c.projId=a.projId
		order by FIELD(a.status,4,2,1,3),a.cTime desc 
		limit #{page},#{pageSize}
	) as r01
  </select>
  
  <!-- 管理人 -->
  <select id="getRecord02ListGuanLi" resultType="java.util.Map" parameterType="java.util.Map">
	select r01.*, 
	  case r01.status when 2 then 1 else 0 end c01,
	  case when r01.count02 is null then 0 else r01.count02 end c02,
	  case when r01.count03 is null then 0 else r01.count03 end c03,
	  case when r01.count03 is null then 0 else 1 end isKnockdown,
		(case r01.status when 2 then 1 else 0 end)+(case when r01.count02 is null then 0 else r01.count02 end)+(case when r01.count03 is null then 0 else r01.count03 end) total 
	from (
		select a.id, a.realName authorName, a.custName, a.custPhoneNum, a.status, a.recepTime, a.custSex, b.count02, c.count03 from (
	    select m.*, n.realName,c.custSex from ql_AccessRecord02 m, plat_User n,ql_Customer c
	  	where (m.status = 2) and m.authorId=n.id and INSTR(#{projId},projId) and m.custId = c.id
		<if test="searchSql!=null"> and (${searchSql})</if>
		) a 
		left join (select projId,custId, count(*) count02 from ql_AccessRecord02 where status=2 and INSTR(#{projId},projId) group by custId, projId) b on b.custId=a.custId and b.projId=a.projId
		left join (select projId,custId, count(*) count03 from ql_AccessRecord03 where status=2 and INSTR(#{projId},projId) group by custId, projId) c on c.custId=a.custId and c.projId=a.projId
		order by FIELD(a.status,1,2,3,4),a.cTime desc 
	) as r01 
	limit #{page},#{pageSize}
  </select>
  
  <!-- 负责人 -->
  <select id="getRecord02ListFuZe" resultType="java.util.Map" parameterType="java.util.Map">
	select r01.*, 
	  case r01.status when 2 then 1 else 0 end c01,
	  case when r01.count02 is null then 0 else r01.count02 end c02,
	  case when r01.count03 is null then 0 else r01.count03 end c03,
	  case when r01.count03 is null then 0 else 1 end isKnockdown,
		(case r01.status when 2 then 1 else 0 end)+(case when r01.count02 is null then 0 else r01.count02 end)+(case when r01.count03 is null then 0 else r01.count03 end) total 
	from (
		select a.id, a.realName authorName, a.custName, a.custPhoneNum, a.status, a.recepTime, a.custSex, b.count02, c.count03 from (
	    select m.*, n.realName,c.custSex from ql_AccessRecord02 m, plat_User n,ql_Customer c
	  	where (m.status = 2 or m.status = 1) and m.authorId=n.id and INSTR(#{projId},projId) and m.custId = c.id
		<if test="searchSql!=null"> and (${searchSql})</if>
		) a 
		left join (select projId,custId, count(*) count02 from ql_AccessRecord02 where status=2 and INSTR(#{projId},projId) group by custId, projId) b on b.custId=a.custId and b.projId=a.projId
		left join (select projId,custId, count(*) count03 from ql_AccessRecord03 where status=2 and INSTR(#{projId},projId) group by custId, projId) c on c.custId=a.custId and c.projId=a.projId
		order by FIELD(a.status,1,2,3,4),a.cTime desc 
	) as r01 
	limit #{page},#{pageSize}
  </select>
  
  <!-- 管理员 -->
  <select id="getRecord02ListAdmin" resultType="java.util.Map" parameterType="java.util.Map">
	select r01.*, 
	  case r01.status when 2 then 1 else 0 end c01,
	  case when r01.count02 is null then 0 else r01.count02 end c02,
	  case when r01.count03 is null then 0 else r01.count03 end c03,
	  case when r01.count03 is null then 0 else 1 end isKnockdown,
		(case r01.status when 2 then 1 else 0 end)+(case when r01.count02 is null then 0 else r01.count02 end)+(case when r01.count03 is null then 0 else r01.count03 end) total 
	from (
		select a.id, a.realName authorName, a.custName, a.custPhoneNum, a.status, a.recepTime, a.custSex, b.count02, c.count03 from (
	    select m.*, n.realName,c.custSex from ql_AccessRecord02 m, plat_User n,ql_Customer c
	  	where (m.status = 2) and m.authorId=n.id and m.custId = c.id
		<if test="searchSql!=null"> and (${searchSql})</if>
		) a 
		left join (select projId,custId, count(*) count02 from ql_AccessRecord02 where status=2 and INSTR(#{projId},projId) group by custId, projId) b on b.custId=a.custId and b.projId=a.projId
		left join (select projId,custId, count(*) count03 from ql_AccessRecord03 where status=2 and INSTR(#{projId},projId) group by custId, projId) c on c.custId=a.custId and c.projId=a.projId
		order by FIELD(a.status,2,1,3,4),a.cTime desc 
	) as r01 
	limit #{page},#{pageSize}
  </select>
  
  
  <update id="updateByProjIdAndCustId" parameterType="java.util.Map">
  	update ql_AccessRecord02 set authorId = #{userId} where projId=#{projId} and instr(#{custId},custId)
  </update>
  
  
  <select id="selectById" parameterType="java.lang.String" resultType="com.hj.wxmp.mobile.entity.AccessRecord02">
	SELECT
		a02.*, proj.projName projname
	FROM
		ql_AccessRecord02 a02
	JOIN ql_Project proj ON a02.projId = proj.id 
	where a02.id = #{recordId}
  </select>
  
  <select id="selectByRecepTime" resultType="com.hj.wxmp.mobile.entity.AccessRecord02" parameterType="java.lang.String">
  	select recepTime from ql_AccessRecord02 where INSTR(recepTime,#{date})
  </select>
</mapper>